{"functions":[{"name":"message_airnotifier_are_notification_preferences_configured","component":"message_airnotifier","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"userids":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_value","desc":"user ID","required":1,"default":null,"allownull":true,"type":"int"}}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"users":{"class":"external_multiple_structure","desc":"list of preferences by user","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"userid":{"class":"external_value","desc":"userid id","required":1,"default":null,"allownull":true,"type":"int"},"configured":{"class":"external_value","desc":"1 if the user preferences have been configured and 0 if not","required":1,"default":null,"allownull":true,"type":"int"}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"text"}}}}}},"description":"Check if the users have notification preferences configured yet","type":"read","loginrequired":true,"readonlysession":false},{"name":"message_airnotifier_enable_device","component":"message_airnotifier","capabilities":"message\/airnotifier:managedevice","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"deviceid":{"class":"external_value","desc":"The device id","required":1,"default":null,"allownull":true,"type":"int"},"enable":{"class":"external_value","desc":"True for enable the device, false otherwise","required":1,"default":null,"allownull":true,"type":"bool"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"success":{"class":"external_value","desc":"True if success","required":1,"default":null,"allownull":true,"type":"bool"},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"text"}}}}}},"description":"Enables or disables a registered user device so it can receive Push notifications","type":"write","loginrequired":true,"readonlysession":false},{"name":"message_airnotifier_get_user_devices","component":"message_airnotifier","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"appid":{"class":"external_value","desc":"App unique id (usually a reversed domain)","required":1,"default":null,"allownull":true,"type":"notags"},"userid":{"class":"external_value","desc":"User id, 0 for current user","required":0,"default":0,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"devices":{"class":"external_multiple_structure","desc":"List of devices","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Device id (in the message_airnotifier table)","required":1,"default":null,"allownull":true,"type":"int"},"appid":{"class":"external_value","desc":"The app id, something like com.moodle.moodlemobile","required":1,"default":null,"allownull":true,"type":"notags"},"name":{"class":"external_value","desc":"The device name, 'occam' or 'iPhone' etc.","required":1,"default":null,"allownull":true,"type":"notags"},"model":{"class":"external_value","desc":"The device model 'Nexus4' or 'iPad1,1' etc.","required":1,"default":null,"allownull":true,"type":"notags"},"platform":{"class":"external_value","desc":"The device platform 'iOS' or 'Android' etc.","required":1,"default":null,"allownull":true,"type":"notags"},"version":{"class":"external_value","desc":"The device version '6.1.2' or '4.2.2' etc.","required":1,"default":null,"allownull":true,"type":"notags"},"pushid":{"class":"external_value","desc":"The device PUSH token\/key\/identifier\/registration id","required":1,"default":null,"allownull":true,"type":"raw"},"uuid":{"class":"external_value","desc":"The device UUID","required":1,"default":null,"allownull":true,"type":"raw"},"enable":{"class":"external_value","desc":"Whether the device is enabled or not","required":1,"default":null,"allownull":true,"type":"int"},"timecreated":{"class":"external_value","desc":"Time created","required":1,"default":null,"allownull":true,"type":"int"},"timemodified":{"class":"external_value","desc":"Time modified","required":1,"default":null,"allownull":true,"type":"int"}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"text"}}}}}},"description":"Return the list of mobile devices that are registered in Moodle for the given user","type":"read","loginrequired":true,"readonlysession":false},{"name":"message_airnotifier_is_system_configured","component":"message_airnotifier","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":[]},"returns_desc":{"class":"external_value","desc":"0 if the system is not configured, 1 otherwise","required":1,"default":null,"allownull":true,"type":"int"},"description":"Check whether the airnotifier settings have been configured","type":"read","loginrequired":true,"readonlysession":false}]}
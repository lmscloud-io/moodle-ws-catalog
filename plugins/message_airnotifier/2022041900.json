{"functions":[{"name":"message_airnotifier_are_notification_preferences_configured","component":"message_airnotifier","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"userids":{"class":"external_multiple_structure","content":{"class":"external_value","type":"int","allownull":true,"desc":"user ID","required":1,"default":null},"desc":"","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"users":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"userid":{"class":"external_value","type":"int","allownull":true,"desc":"userid id","required":1,"default":null},"configured":{"class":"external_value","type":"int","allownull":true,"desc":"1 if the user preferences have been configured and 0 if not","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"list of preferences by user","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Check if the users have notification preferences configured yet","type":"read","loginrequired":true,"readonlysession":false},{"name":"message_airnotifier_enable_device","component":"message_airnotifier","capabilities":"message\/airnotifier:managedevice","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"deviceid":{"class":"external_value","type":"int","allownull":true,"desc":"The device id","required":1,"default":null},"enable":{"class":"external_value","type":"bool","allownull":true,"desc":"True for enable the device, false otherwise","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"success":{"class":"external_value","type":"bool","allownull":true,"desc":"True if success","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Enables or disables a registered user device so it can receive Push notifications","type":"write","loginrequired":true,"readonlysession":false},{"name":"message_airnotifier_get_user_devices","component":"message_airnotifier","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"appid":{"class":"external_value","type":"notags","allownull":true,"desc":"App unique id (usually a reversed domain)","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"User id, 0 for current user","required":0,"default":0}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"devices":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"Device id (in the message_airnotifier table)","required":1,"default":null},"appid":{"class":"external_value","type":"notags","allownull":true,"desc":"The app id, something like com.moodle.moodlemobile","required":1,"default":null},"name":{"class":"external_value","type":"notags","allownull":true,"desc":"The device name, 'occam' or 'iPhone' etc.","required":1,"default":null},"model":{"class":"external_value","type":"notags","allownull":true,"desc":"The device model 'Nexus4' or 'iPad1,1' etc.","required":1,"default":null},"platform":{"class":"external_value","type":"notags","allownull":true,"desc":"The device platform 'iOS' or 'Android' etc.","required":1,"default":null},"version":{"class":"external_value","type":"notags","allownull":true,"desc":"The device version '6.1.2' or '4.2.2' etc.","required":1,"default":null},"pushid":{"class":"external_value","type":"raw","allownull":true,"desc":"The device PUSH token\/key\/identifier\/registration id","required":1,"default":null},"uuid":{"class":"external_value","type":"raw","allownull":true,"desc":"The device UUID","required":1,"default":null},"enable":{"class":"external_value","type":"int","allownull":true,"desc":"Whether the device is enabled or not","required":1,"default":null},"timecreated":{"class":"external_value","type":"int","allownull":true,"desc":"Time created","required":1,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Time modified","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"List of devices","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return the list of mobile devices that are registered in Moodle for the given user","type":"read","loginrequired":true,"readonlysession":false},{"name":"message_airnotifier_is_system_configured","component":"message_airnotifier","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":[],"desc":"","required":1,"default":null},"returns_desc":{"class":"external_value","type":"int","allownull":true,"desc":"0 if the system is not configured, 1 otherwise","required":1,"default":null},"description":"Check whether the airnotifier settings have been configured","type":"read","loginrequired":true,"readonlysession":false}]}
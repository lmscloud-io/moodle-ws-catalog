{"functions":[{"name":"message_popup_get_popup_notifications","component":"message_popup","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"useridto":{"class":"external_value","type":"int","allownull":true,"desc":"the user id who received the message, 0 for current user","required":1,"default":null},"newestfirst":{"class":"external_value","type":"bool","allownull":true,"desc":"true for ordering by newest first, false for oldest first","required":0,"default":true},"limit":{"class":"external_value","type":"int","allownull":true,"desc":"the number of results to return","required":0,"default":0},"offset":{"class":"external_value","type":"int","allownull":true,"desc":"offset the result set by a given amount","required":0,"default":0}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"notifications":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"Notification id (this is not guaranteed to be unique\n                                within this result set)","required":1,"default":null},"useridfrom":{"class":"external_value","type":"int","allownull":true,"desc":"User from id","required":1,"default":null},"useridto":{"class":"external_value","type":"int","allownull":true,"desc":"User to id","required":1,"default":null},"subject":{"class":"external_value","type":"text","allownull":true,"desc":"The notification subject","required":1,"default":null},"shortenedsubject":{"class":"external_value","type":"text","allownull":true,"desc":"The notification subject shortened\n                                with ellipsis","required":1,"default":null},"text":{"class":"external_value","type":"raw","allownull":true,"desc":"The message text formated","required":1,"default":null},"fullmessage":{"class":"external_value","type":"raw","allownull":true,"desc":"The message","required":1,"default":null},"fullmessageformat":{"class":"external_format_value,external_value","type":"int","allownull":true,"desc":"fullmessage format (1 = HTML, 0 = MOODLE, 2 = PLAIN or 4 = MARKDOWN)","required":1,"default":null},"fullmessagehtml":{"class":"external_value","type":"raw","allownull":true,"desc":"The message in html","required":1,"default":null},"smallmessage":{"class":"external_value","type":"raw","allownull":true,"desc":"The shorten message","required":1,"default":null},"contexturl":{"class":"external_value","type":"raw","allownull":true,"desc":"Context URL","required":1,"default":null},"contexturlname":{"class":"external_value","type":"text","allownull":true,"desc":"Context URL link name","required":1,"default":null},"timecreated":{"class":"external_value","type":"int","allownull":true,"desc":"Time created","required":1,"default":null},"timecreatedpretty":{"class":"external_value","type":"text","allownull":true,"desc":"Time created in a pretty format","required":1,"default":null},"timeread":{"class":"external_value","type":"int","allownull":true,"desc":"Time read","required":1,"default":null},"read":{"class":"external_value","type":"bool","allownull":true,"desc":"notification read status","required":1,"default":null},"deleted":{"class":"external_value","type":"bool","allownull":true,"desc":"notification deletion status","required":1,"default":null},"iconurl":{"class":"external_value","type":"url","allownull":true,"desc":"URL for notification icon","required":1,"default":null},"component":{"class":"external_value","type":"text","allownull":true,"desc":"The component that generated the notification","required":2,"default":null},"eventtype":{"class":"external_value","type":"text","allownull":true,"desc":"The type of notification","required":2,"default":null},"customdata":{"class":"external_value","type":"raw","allownull":true,"desc":"Custom data to be passed to the message processor.\n                                The data here is serialised using json_encode().","required":2,"default":null}},"desc":"message","required":1,"default":null},"desc":"","required":1,"default":null},"unreadcount":{"class":"external_value","type":"int","allownull":true,"desc":"the number of unread message for the given user","required":1,"default":null}},"desc":"","required":1,"default":null},"description":"Retrieve a list of popup notifications for a user","type":"read","loginrequired":true,"readonlysession":false},{"name":"message_popup_get_unread_popup_notification_count","component":"message_popup","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"useridto":{"class":"external_value","type":"int","allownull":true,"desc":"the user id who received the message, 0 for any user","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_value","type":"int","allownull":true,"desc":"The count of unread popup notifications","required":1,"default":null},"description":"Retrieve the count of unread popup notifications for a given user","type":"read","loginrequired":true,"readonlysession":true}]}
{"functions":[{"name":"message_popup_get_popup_notifications","component":"message_popup","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"allownull":false,"keys":{"useridto":{"class":"external_value","desc":"the user id who received the message, 0 for current user","required":1,"default":null,"allownull":true,"type":"int"},"newestfirst":{"class":"external_value","desc":"true for ordering by newest first, false for oldest first","required":0,"default":true,"allownull":true,"type":"bool"},"limit":{"class":"external_value","desc":"the number of results to return","required":0,"default":0,"allownull":true,"type":"int"},"offset":{"class":"external_value","desc":"offset the result set by a given amount","required":0,"default":0,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"allownull":false,"keys":{"notifications":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"allownull":false,"content":{"class":"external_single_structure","desc":"message","required":1,"default":null,"allownull":false,"keys":{"id":{"class":"external_value","desc":"Notification id (this is not guaranteed to be unique\n                                within this result set)","required":1,"default":null,"allownull":true,"type":"int"},"useridfrom":{"class":"external_value","desc":"User from id","required":1,"default":null,"allownull":true,"type":"int"},"useridto":{"class":"external_value","desc":"User to id","required":1,"default":null,"allownull":true,"type":"int"},"subject":{"class":"external_value","desc":"The notification subject","required":1,"default":null,"allownull":true,"type":"text"},"shortenedsubject":{"class":"external_value","desc":"The notification subject shortened\n                                with ellipsis","required":1,"default":null,"allownull":true,"type":"text"},"text":{"class":"external_value","desc":"The message text formated","required":1,"default":null,"allownull":true,"type":"raw"},"fullmessage":{"class":"external_value","desc":"The message","required":1,"default":null,"allownull":true,"type":"raw"},"fullmessageformat":{"class":"external_format_value,external_value","desc":"fullmessage format (1 = HTML, 0 = MOODLE, 2 = PLAIN, or 4 = MARKDOWN)","required":1,"default":null,"allownull":true,"type":"int"},"fullmessagehtml":{"class":"external_value","desc":"The message in html","required":1,"default":null,"allownull":true,"type":"raw"},"smallmessage":{"class":"external_value","desc":"The shorten message","required":1,"default":null,"allownull":true,"type":"raw"},"contexturl":{"class":"external_value","desc":"Context URL","required":1,"default":null,"allownull":true,"type":"raw"},"contexturlname":{"class":"external_value","desc":"Context URL link name","required":1,"default":null,"allownull":true,"type":"text"},"timecreated":{"class":"external_value","desc":"Time created","required":1,"default":null,"allownull":true,"type":"int"},"timecreatedpretty":{"class":"external_value","desc":"Time created in a pretty format","required":1,"default":null,"allownull":true,"type":"text"},"timeread":{"class":"external_value","desc":"Time read","required":1,"default":null,"allownull":true,"type":"int"},"read":{"class":"external_value","desc":"notification read status","required":1,"default":null,"allownull":true,"type":"bool"},"deleted":{"class":"external_value","desc":"notification deletion status","required":1,"default":null,"allownull":true,"type":"bool"},"iconurl":{"class":"external_value","desc":"URL for notification icon","required":1,"default":null,"allownull":true,"type":"url"},"component":{"class":"external_value","desc":"The component that generated the notification","required":2,"default":null,"allownull":true,"type":"text"},"eventtype":{"class":"external_value","desc":"The type of notification","required":2,"default":null,"allownull":true,"type":"text"},"customdata":{"class":"external_value","desc":"Custom data to be passed to the message processor.\n                                The data here is serialised using json_encode().","required":2,"default":null,"allownull":true,"type":"raw"}}}},"unreadcount":{"class":"external_value","desc":"the number of unread message for the given user","required":1,"default":null,"allownull":true,"type":"int"}}},"description":"Retrieve a list of popup notifications for a user","type":"read","loginrequired":true,"readonlysession":false},{"name":"message_popup_get_unread_popup_notification_count","component":"message_popup","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"allownull":false,"keys":{"useridto":{"class":"external_value","desc":"the user id who received the message, 0 for any user","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_value","desc":"The count of unread popup notifications","required":1,"default":null,"allownull":true,"type":"int"},"description":"Retrieve the count of unread popup notifications for a given user","type":"read","loginrequired":true,"readonlysession":true}]}
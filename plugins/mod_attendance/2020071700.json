{"functions":[{"name":"mod_attendance_add_attendance","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"courseid":{"class":"external_value","type":"int","allownull":true,"desc":"course id","required":1,"default":null},"name":{"class":"external_value","type":"text","allownull":true,"desc":"attendance name","required":1,"default":null},"intro":{"class":"external_value","type":"raw","allownull":true,"desc":"attendance description","required":0,"default":""},"groupmode":{"class":"external_value","type":"int","allownull":true,"desc":"group mode (0 - no groups, 1 - separate groups, 2 - visible groups)","required":0,"default":0}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"attendanceid":{"class":"external_value","type":"int","allownull":true,"desc":"instance id of the created attendance","required":1,"default":null}},"desc":"","required":1,"default":null},"description":"Add attendance instance to course.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_add_session","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"attendanceid":{"class":"external_value","type":"int","allownull":true,"desc":"attendance instance id","required":1,"default":null},"description":{"class":"external_value","type":"raw","allownull":true,"desc":"description","required":0,"default":""},"sessiontime":{"class":"external_value","type":"int","allownull":true,"desc":"session start timestamp","required":1,"default":null},"duration":{"class":"external_value","type":"int","allownull":true,"desc":"session duration (seconds)","required":0,"default":0},"groupid":{"class":"external_value","type":"int","allownull":true,"desc":"group id","required":0,"default":0},"addcalendarevent":{"class":"external_value","type":"bool","allownull":true,"desc":"add calendar event","required":0,"default":true}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"sessionid":{"class":"external_value","type":"int","allownull":true,"desc":"id of the created session","required":1,"default":null}},"desc":"","required":1,"default":null},"description":"Add a new session.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_get_courses_with_today_sessions","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"userid":{"class":"external_value","type":"int","allownull":true,"desc":"User id.","required":0,"default":0}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"shortname":{"class":"external_value","type":"text","allownull":true,"desc":"short name of a moodle course.","required":1,"default":null},"fullname":{"class":"external_value","type":"text","allownull":true,"desc":"full name of a moodle course.","required":1,"default":null},"attendance_instances":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"name":{"class":"external_value","type":"text","allownull":true,"desc":"Attendance name.","required":1,"default":null},"today_sessions":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"Session id.","required":1,"default":null},"attendanceid":{"class":"external_value","type":"int","allownull":true,"desc":"Attendance id.","required":1,"default":null},"groupid":{"class":"external_value","type":"int","allownull":true,"desc":"Group id.","required":1,"default":null},"sessdate":{"class":"external_value","type":"int","allownull":true,"desc":"Session date.","required":1,"default":null},"duration":{"class":"external_value","type":"int","allownull":true,"desc":"Session duration.","required":1,"default":null},"lasttaken":{"class":"external_value","type":"int","allownull":true,"desc":"Session last taken time.","required":1,"default":null},"lasttakenby":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the last user that took this session.","required":1,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Time modified.","required":1,"default":null},"description":{"class":"external_value","type":"text","allownull":true,"desc":"Session description.","required":1,"default":null},"descriptionformat":{"class":"external_value","type":"int","allownull":true,"desc":"Session description format.","required":1,"default":null},"studentscanmark":{"class":"external_value","type":"int","allownull":true,"desc":"Students can mark their own presence.","required":1,"default":null},"absenteereport":{"class":"external_value","type":"int","allownull":true,"desc":"Session included in absetee reports.","required":1,"default":null},"autoassignstatus":{"class":"external_value","type":"int","allownull":true,"desc":"Automatically assign a status to students.","required":1,"default":null},"preventsharedip":{"class":"external_value","type":"int","allownull":true,"desc":"Prevent students from sharing IP addresses.","required":1,"default":null},"preventsharediptime":{"class":"external_value","type":"int","allownull":true,"desc":"Time delay before IP address is allowed again.","required":1,"default":null},"statusset":{"class":"external_value","type":"int","allownull":true,"desc":"Session statusset.","required":1,"default":null},"includeqrcode":{"class":"external_value","type":"int","allownull":true,"desc":"Include QR code when displaying password","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null},"description":"Method that retrieves courses with today sessions of a teacher.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_get_session","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"sessionid":{"class":"external_value","type":"int","allownull":true,"desc":"session id","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"Session id.","required":1,"default":null},"attendanceid":{"class":"external_value","type":"int","allownull":true,"desc":"Attendance id.","required":1,"default":null},"groupid":{"class":"external_value","type":"int","allownull":true,"desc":"Group id.","required":1,"default":null},"sessdate":{"class":"external_value","type":"int","allownull":true,"desc":"Session date.","required":1,"default":null},"duration":{"class":"external_value","type":"int","allownull":true,"desc":"Session duration.","required":1,"default":null},"lasttaken":{"class":"external_value","type":"int","allownull":true,"desc":"Session last taken time.","required":1,"default":null},"lasttakenby":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the last user that took this session.","required":1,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Time modified.","required":1,"default":null},"description":{"class":"external_value","type":"text","allownull":true,"desc":"Session description.","required":1,"default":null},"descriptionformat":{"class":"external_value","type":"int","allownull":true,"desc":"Session description format.","required":1,"default":null},"studentscanmark":{"class":"external_value","type":"int","allownull":true,"desc":"Students can mark their own presence.","required":1,"default":null},"absenteereport":{"class":"external_value","type":"int","allownull":true,"desc":"Session included in absetee reports.","required":1,"default":null},"autoassignstatus":{"class":"external_value","type":"int","allownull":true,"desc":"Automatically assign a status to students.","required":1,"default":null},"preventsharedip":{"class":"external_value","type":"int","allownull":true,"desc":"Prevent students from sharing IP addresses.","required":1,"default":null},"preventsharediptime":{"class":"external_value","type":"int","allownull":true,"desc":"Time delay before IP address is allowed again.","required":1,"default":null},"statusset":{"class":"external_value","type":"int","allownull":true,"desc":"Session statusset.","required":1,"default":null},"includeqrcode":{"class":"external_value","type":"int","allownull":true,"desc":"Include QR code when displaying password","required":1,"default":null},"courseid":{"class":"external_value","type":"int","allownull":true,"desc":"Course moodle id.","required":1,"default":null},"statuses":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"Status id.","required":1,"default":null},"attendanceid":{"class":"external_value","type":"int","allownull":true,"desc":"Attendance id.","required":1,"default":null},"acronym":{"class":"external_value","type":"text","allownull":true,"desc":"Status acronym.","required":1,"default":null},"description":{"class":"external_value","type":"text","allownull":true,"desc":"Status description.","required":1,"default":null},"grade":{"class":"external_value","type":"float","allownull":true,"desc":"Status grade.","required":1,"default":null},"visible":{"class":"external_value","type":"int","allownull":true,"desc":"Status visibility.","required":1,"default":null},"deleted":{"class":"external_value","type":"int","allownull":true,"desc":"informs if this session was deleted.","required":1,"default":null},"setnumber":{"class":"external_value","type":"int","allownull":true,"desc":"Set number.","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null},"attendance_log":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"studentid":{"class":"external_value","type":"int","allownull":true,"desc":"Student id.","required":1,"default":null},"statusid":{"class":"external_value","type":"text","allownull":true,"desc":"Status id (last time).","required":1,"default":null},"remarks":{"class":"external_value","type":"text","allownull":true,"desc":"Last remark.","required":1,"default":null},"id":{"class":"external_value","type":"text","allownull":true,"desc":"log id.","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null},"users":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"User id.","required":1,"default":null},"firstname":{"class":"external_value","type":"text","allownull":true,"desc":"User first name.","required":1,"default":null},"lastname":{"class":"external_value","type":"text","allownull":true,"desc":"User last name.","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null}},"desc":"","required":1,"default":null},"description":"Method that retrieves the session data","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_remove_attendance","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"attendanceid":{"class":"external_value","type":"int","allownull":true,"desc":"attendance instance id","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_value","type":"bool","allownull":true,"desc":"attendance deletion result","required":1,"default":null},"description":"Delete attendance instance.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_remove_session","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"sessionid":{"class":"external_value","type":"int","allownull":true,"desc":"session id","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_value","type":"bool","allownull":true,"desc":"attendance session deletion result","required":1,"default":null},"description":"Delete a session.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_update_user_status","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"sessionid":{"class":"external_value","type":"int","allownull":true,"desc":"Session id","required":1,"default":null},"studentid":{"class":"external_value","type":"int","allownull":true,"desc":"Student id","required":1,"default":null},"takenbyid":{"class":"external_value","type":"int","allownull":true,"desc":"Id of the user who took this session","required":1,"default":null},"statusid":{"class":"external_value","type":"int","allownull":true,"desc":"Status id","required":1,"default":null},"statusset":{"class":"external_value","type":"text","allownull":true,"desc":"Status set of session","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_value","type":"text","allownull":true,"desc":"Http code","required":1,"default":null},"description":"Method that updates the user status in a session.","type":"write","loginrequired":true,"readonlysession":false}]}
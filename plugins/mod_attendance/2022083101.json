{"functions":[{"name":"mod_attendance_add_attendance","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"courseid":{"class":"external_value","desc":"course id","required":1,"default":null,"allownull":true,"type":"int"},"name":{"class":"external_value","desc":"attendance name","required":1,"default":null,"allownull":true,"type":"text"},"intro":{"class":"external_value","desc":"attendance description","required":0,"default":"","allownull":true,"type":"raw"},"groupmode":{"class":"external_value","desc":"group mode (0 - no groups, 1 - separate groups, 2 - visible groups)","required":0,"default":0,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"attendanceid":{"class":"external_value","desc":"instance id of the created attendance","required":1,"default":null,"allownull":true,"type":"int"}}},"description":"Add attendance instance to course.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_add_session","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"attendanceid":{"class":"external_value","desc":"attendance instance id","required":1,"default":null,"allownull":true,"type":"int"},"description":{"class":"external_value","desc":"description","required":0,"default":"","allownull":true,"type":"raw"},"sessiontime":{"class":"external_value","desc":"session start timestamp","required":1,"default":null,"allownull":true,"type":"int"},"duration":{"class":"external_value","desc":"session duration (seconds)","required":0,"default":0,"allownull":true,"type":"int"},"groupid":{"class":"external_value","desc":"group id","required":0,"default":0,"allownull":true,"type":"int"},"addcalendarevent":{"class":"external_value","desc":"add calendar event","required":0,"default":true,"allownull":true,"type":"bool"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"sessionid":{"class":"external_value","desc":"id of the created session","required":1,"default":null,"allownull":true,"type":"int"}}},"description":"Add a new session.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_get_courses_with_today_sessions","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"userid":{"class":"external_value","desc":"User id.","required":0,"default":0,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"shortname":{"class":"external_value","desc":"short name of a moodle course.","required":1,"default":null,"allownull":true,"type":"text"},"fullname":{"class":"external_value","desc":"full name of a moodle course.","required":1,"default":null,"allownull":true,"type":"text"},"attendance_instances":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"name":{"class":"external_value","desc":"Attendance name.","required":1,"default":null,"allownull":true,"type":"text"},"today_sessions":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Session id.","required":1,"default":null,"allownull":true,"type":"int"},"attendanceid":{"class":"external_value","desc":"Attendance id.","required":1,"default":null,"allownull":true,"type":"int"},"groupid":{"class":"external_value","desc":"Group id.","required":1,"default":null,"allownull":true,"type":"int"},"sessdate":{"class":"external_value","desc":"Session date.","required":1,"default":null,"allownull":true,"type":"int"},"duration":{"class":"external_value","desc":"Session duration.","required":1,"default":null,"allownull":true,"type":"int"},"lasttaken":{"class":"external_value","desc":"Session last taken time.","required":1,"default":null,"allownull":true,"type":"int"},"lasttakenby":{"class":"external_value","desc":"ID of the last user that took this session.","required":1,"default":null,"allownull":true,"type":"int"},"timemodified":{"class":"external_value","desc":"Time modified.","required":1,"default":null,"allownull":true,"type":"int"},"description":{"class":"external_value","desc":"Session description.","required":1,"default":null,"allownull":true,"type":"raw"},"descriptionformat":{"class":"external_value","desc":"Session description format.","required":1,"default":null,"allownull":true,"type":"int"},"studentscanmark":{"class":"external_value","desc":"Students can mark their own presence.","required":1,"default":null,"allownull":true,"type":"int"},"absenteereport":{"class":"external_value","desc":"Session included in absetee reports.","required":1,"default":null,"allownull":true,"type":"int"},"autoassignstatus":{"class":"external_value","desc":"Automatically assign a status to students.","required":1,"default":null,"allownull":true,"type":"int"},"preventsharedip":{"class":"external_value","desc":"Prevent students from sharing IP addresses.","required":1,"default":null,"allownull":true,"type":"int"},"preventsharediptime":{"class":"external_value","desc":"Time delay before IP address is allowed again.","required":1,"default":null,"allownull":true,"type":"int"},"statusset":{"class":"external_value","desc":"Session statusset.","required":1,"default":null,"allownull":true,"type":"int"},"includeqrcode":{"class":"external_value","desc":"Include QR code when displaying password","required":1,"default":null,"allownull":true,"type":"int"},"studentsearlyopentime":{"class":"external_value","desc":"Duration to allow session to opened early","required":1,"default":null,"allownull":true,"type":"int"}}}}}}}}}},"description":"Method that retrieves courses with today sessions of a teacher.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_get_session","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"sessionid":{"class":"external_value","desc":"session id","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Session id.","required":1,"default":null,"allownull":true,"type":"int"},"attendanceid":{"class":"external_value","desc":"Attendance id.","required":1,"default":null,"allownull":true,"type":"int"},"groupid":{"class":"external_value","desc":"Group id.","required":1,"default":null,"allownull":true,"type":"int"},"sessdate":{"class":"external_value","desc":"Session date.","required":1,"default":null,"allownull":true,"type":"int"},"duration":{"class":"external_value","desc":"Session duration.","required":1,"default":null,"allownull":true,"type":"int"},"lasttaken":{"class":"external_value","desc":"Session last taken time.","required":1,"default":null,"allownull":true,"type":"int"},"lasttakenby":{"class":"external_value","desc":"ID of the last user that took this session.","required":1,"default":null,"allownull":true,"type":"int"},"timemodified":{"class":"external_value","desc":"Time modified.","required":1,"default":null,"allownull":true,"type":"int"},"description":{"class":"external_value","desc":"Session description.","required":1,"default":null,"allownull":true,"type":"raw"},"descriptionformat":{"class":"external_value","desc":"Session description format.","required":1,"default":null,"allownull":true,"type":"int"},"studentscanmark":{"class":"external_value","desc":"Students can mark their own presence.","required":1,"default":null,"allownull":true,"type":"int"},"absenteereport":{"class":"external_value","desc":"Session included in absetee reports.","required":1,"default":null,"allownull":true,"type":"int"},"autoassignstatus":{"class":"external_value","desc":"Automatically assign a status to students.","required":1,"default":null,"allownull":true,"type":"int"},"preventsharedip":{"class":"external_value","desc":"Prevent students from sharing IP addresses.","required":1,"default":null,"allownull":true,"type":"int"},"preventsharediptime":{"class":"external_value","desc":"Time delay before IP address is allowed again.","required":1,"default":null,"allownull":true,"type":"int"},"statusset":{"class":"external_value","desc":"Session statusset.","required":1,"default":null,"allownull":true,"type":"int"},"includeqrcode":{"class":"external_value","desc":"Include QR code when displaying password","required":1,"default":null,"allownull":true,"type":"int"},"studentsearlyopentime":{"class":"external_value","desc":"Duration to allow session to opened early","required":1,"default":null,"allownull":true,"type":"int"},"courseid":{"class":"external_value","desc":"Course moodle id.","required":1,"default":null,"allownull":true,"type":"int"},"statuses":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Status id.","required":1,"default":null,"allownull":true,"type":"int"},"attendanceid":{"class":"external_value","desc":"Attendance id.","required":1,"default":null,"allownull":true,"type":"int"},"acronym":{"class":"external_value","desc":"Status acronym.","required":1,"default":null,"allownull":true,"type":"text"},"description":{"class":"external_value","desc":"Status description.","required":1,"default":null,"allownull":true,"type":"raw"},"grade":{"class":"external_value","desc":"Status grade.","required":1,"default":null,"allownull":true,"type":"float"},"visible":{"class":"external_value","desc":"Status visibility.","required":1,"default":null,"allownull":true,"type":"int"},"deleted":{"class":"external_value","desc":"informs if this session was deleted.","required":1,"default":null,"allownull":true,"type":"int"},"setnumber":{"class":"external_value","desc":"Set number.","required":1,"default":null,"allownull":true,"type":"int"}}}},"attendance_log":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"studentid":{"class":"external_value","desc":"Student id.","required":1,"default":null,"allownull":true,"type":"int"},"statusid":{"class":"external_value","desc":"Status id (last time).","required":1,"default":null,"allownull":true,"type":"text"},"remarks":{"class":"external_value","desc":"Last remark.","required":1,"default":null,"allownull":true,"type":"text"},"id":{"class":"external_value","desc":"log id.","required":1,"default":null,"allownull":true,"type":"text"}}}},"users":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"User id.","required":1,"default":null,"allownull":true,"type":"int"},"firstname":{"class":"external_value","desc":"User first name.","required":1,"default":null,"allownull":true,"type":"text"},"lastname":{"class":"external_value","desc":"User last name.","required":1,"default":null,"allownull":true,"type":"text"}}}}}},"description":"Method that retrieves the session data","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_get_sessions","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"attendanceid":{"class":"external_value","desc":"Attendance id.","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Session id.","required":1,"default":null,"allownull":true,"type":"int"},"attendanceid":{"class":"external_value","desc":"Attendance id.","required":1,"default":null,"allownull":true,"type":"int"},"groupid":{"class":"external_value","desc":"Group id.","required":1,"default":null,"allownull":true,"type":"int"},"sessdate":{"class":"external_value","desc":"Session date.","required":1,"default":null,"allownull":true,"type":"int"},"duration":{"class":"external_value","desc":"Session duration.","required":1,"default":null,"allownull":true,"type":"int"},"lasttaken":{"class":"external_value","desc":"Session last taken time.","required":1,"default":null,"allownull":true,"type":"int"},"lasttakenby":{"class":"external_value","desc":"ID of the last user that took this session.","required":1,"default":null,"allownull":true,"type":"int"},"timemodified":{"class":"external_value","desc":"Time modified.","required":1,"default":null,"allownull":true,"type":"int"},"description":{"class":"external_value","desc":"Session description.","required":1,"default":null,"allownull":true,"type":"raw"},"descriptionformat":{"class":"external_value","desc":"Session description format.","required":1,"default":null,"allownull":true,"type":"int"},"studentscanmark":{"class":"external_value","desc":"Students can mark their own presence.","required":1,"default":null,"allownull":true,"type":"int"},"absenteereport":{"class":"external_value","desc":"Session included in absetee reports.","required":1,"default":null,"allownull":true,"type":"int"},"autoassignstatus":{"class":"external_value","desc":"Automatically assign a status to students.","required":1,"default":null,"allownull":true,"type":"int"},"preventsharedip":{"class":"external_value","desc":"Prevent students from sharing IP addresses.","required":1,"default":null,"allownull":true,"type":"int"},"preventsharediptime":{"class":"external_value","desc":"Time delay before IP address is allowed again.","required":1,"default":null,"allownull":true,"type":"int"},"statusset":{"class":"external_value","desc":"Session statusset.","required":1,"default":null,"allownull":true,"type":"int"},"includeqrcode":{"class":"external_value","desc":"Include QR code when displaying password","required":1,"default":null,"allownull":true,"type":"int"},"studentsearlyopentime":{"class":"external_value","desc":"Duration to allow session to opened early","required":1,"default":null,"allownull":true,"type":"int"},"courseid":{"class":"external_value","desc":"Course moodle id.","required":1,"default":null,"allownull":true,"type":"int"},"statuses":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Status id.","required":1,"default":null,"allownull":true,"type":"int"},"attendanceid":{"class":"external_value","desc":"Attendance id.","required":1,"default":null,"allownull":true,"type":"int"},"acronym":{"class":"external_value","desc":"Status acronym.","required":1,"default":null,"allownull":true,"type":"text"},"description":{"class":"external_value","desc":"Status description.","required":1,"default":null,"allownull":true,"type":"raw"},"grade":{"class":"external_value","desc":"Status grade.","required":1,"default":null,"allownull":true,"type":"float"},"visible":{"class":"external_value","desc":"Status visibility.","required":1,"default":null,"allownull":true,"type":"int"},"deleted":{"class":"external_value","desc":"informs if this session was deleted.","required":1,"default":null,"allownull":true,"type":"int"},"setnumber":{"class":"external_value","desc":"Set number.","required":1,"default":null,"allownull":true,"type":"int"}}}},"attendance_log":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"studentid":{"class":"external_value","desc":"Student id.","required":1,"default":null,"allownull":true,"type":"int"},"statusid":{"class":"external_value","desc":"Status id (last time).","required":1,"default":null,"allownull":true,"type":"text"},"remarks":{"class":"external_value","desc":"Last remark.","required":1,"default":null,"allownull":true,"type":"text"},"id":{"class":"external_value","desc":"log id.","required":1,"default":null,"allownull":true,"type":"text"}}}},"users":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"User id.","required":1,"default":null,"allownull":true,"type":"int"},"firstname":{"class":"external_value","desc":"User first name.","required":1,"default":null,"allownull":true,"type":"text"},"lastname":{"class":"external_value","desc":"User last name.","required":1,"default":null,"allownull":true,"type":"text"}}}}}}},"description":"Method that retrieves the sessions in an attendance instance.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_remove_attendance","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"attendanceid":{"class":"external_value","desc":"attendance instance id","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_value","desc":"attendance deletion result","required":1,"default":null,"allownull":true,"type":"bool"},"description":"Delete attendance instance.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_remove_session","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"sessionid":{"class":"external_value","desc":"session id","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_value","desc":"attendance session deletion result","required":1,"default":null,"allownull":true,"type":"bool"},"description":"Delete a session.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_attendance_update_user_status","component":"mod_attendance","capabilities":"","services":null,"allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"sessionid":{"class":"external_value","desc":"Session id","required":1,"default":null,"allownull":true,"type":"int"},"studentid":{"class":"external_value","desc":"Student id","required":1,"default":null,"allownull":true,"type":"int"},"takenbyid":{"class":"external_value","desc":"Id of the user who took this session","required":1,"default":null,"allownull":true,"type":"int"},"statusid":{"class":"external_value","desc":"Status id","required":1,"default":null,"allownull":true,"type":"int"},"statusset":{"class":"external_value","desc":"Status set of session","required":1,"default":null,"allownull":true,"type":"text"}}},"returns_desc":{"class":"external_value","desc":"Http code","required":1,"default":null,"allownull":true,"type":"text"},"description":"Method that updates the user status in a session.","type":"write","loginrequired":true,"readonlysession":false}]}
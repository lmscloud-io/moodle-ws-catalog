{"functions":[{"name":"mod_choice_delete_choice_responses","component":"mod_choice","capabilities":"mod\/choice:choose","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"choiceid":{"class":"external_value","desc":"choice instance id","required":1,"default":null,"type":"int","allownull":true},"responses":{"class":"external_multiple_structure","desc":"Array of response ids, empty for deleting all the current user responses.","required":0,"default":[],"content":{"class":"external_value","desc":"response id","required":1,"default":null,"type":"int","allownull":true}}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"status":{"class":"external_value","desc":"status, true if everything went right","required":1,"default":null,"type":"bool","allownull":true},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Delete the given submitted responses in a choice","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_choice_get_choice_options","component":"mod_choice","capabilities":"mod\/choice:choose","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"choiceid":{"class":"external_value","desc":"choice instance id","required":1,"default":null,"type":"int","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"options":{"class":"external_multiple_structure","desc":"Options","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"option id","required":1,"default":null,"type":"int","allownull":true},"text":{"class":"external_value","desc":"text of the choice","required":1,"default":null,"type":"raw","allownull":true},"maxanswers":{"class":"external_value","desc":"maximum number of answers","required":1,"default":null,"type":"int","allownull":true},"displaylayout":{"class":"external_value","desc":"true for orizontal, otherwise vertical","required":1,"default":null,"type":"bool","allownull":true},"countanswers":{"class":"external_value","desc":"number of answers","required":1,"default":null,"type":"int","allownull":true},"checked":{"class":"external_value","desc":"we already answered","required":1,"default":null,"type":"bool","allownull":true},"disabled":{"class":"external_value","desc":"option disabled","required":1,"default":null,"type":"bool","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Retrieve options for a specific choice.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_choice_get_choice_results","component":"mod_choice","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"choiceid":{"class":"external_value","desc":"choice instance id","required":1,"default":null,"type":"int","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"options":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"Options","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"choice instance id","required":1,"default":null,"type":"int","allownull":true},"text":{"class":"external_value","desc":"text of the choice","required":1,"default":null,"type":"raw","allownull":true},"maxanswer":{"class":"external_value","desc":"maximum number of answers","required":1,"default":null,"type":"int","allownull":true},"userresponses":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"User responses","required":1,"default":null,"keys":{"userid":{"class":"external_value","desc":"user id","required":1,"default":null,"type":"int","allownull":true},"fullname":{"class":"external_value","desc":"user full name","required":1,"default":null,"type":"notags","allownull":true},"profileimageurl":{"class":"external_value","desc":"profile user image url","required":1,"default":null,"type":"url","allownull":true},"answerid":{"class":"external_value","desc":"answer id","required":2,"default":null,"type":"int","allownull":true},"timemodified":{"class":"external_value","desc":"time of modification","required":2,"default":null,"type":"int","allownull":true}}}},"numberofuser":{"class":"external_value","desc":"number of users answers","required":1,"default":null,"type":"int","allownull":true},"percentageamount":{"class":"external_value","desc":"percentage of users answers","required":1,"default":null,"type":"float","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Retrieve users results for a given choice.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_choice_get_choices_by_courses","component":"mod_choice","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"courseids":{"class":"external_multiple_structure","desc":"Array of course ids","required":0,"default":[],"content":{"class":"external_value","desc":"course id","required":1,"default":null,"type":"int","allownull":true}}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"choices":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"Choices","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Activity instance id","required":1,"default":null,"type":"int","allownull":true},"coursemodule":{"class":"external_value","desc":"Course module id","required":1,"default":null,"type":"int","allownull":true},"course":{"class":"external_value","desc":"Course id","required":1,"default":null,"type":"int","allownull":true},"name":{"class":"external_value","desc":"Activity name","required":1,"default":null,"type":"raw","allownull":true},"intro":{"class":"external_value","desc":"Activity introduction","required":1,"default":null,"type":"raw","allownull":true},"introformat":{"class":"external_format_value,external_value","desc":"intro format (1 = HTML, 0 = MOODLE, 2 = PLAIN, or 4 = MARKDOWN)","required":1,"default":null,"type":"int","allownull":true},"introfiles":{"class":"external_files,external_multiple_structure","desc":"Files in the introduction","required":2,"default":null,"content":{"class":"external_single_structure","desc":"File.","required":1,"default":null,"keys":{"filename":{"class":"external_value","desc":"File name.","required":2,"default":null,"type":"file","allownull":true},"filepath":{"class":"external_value","desc":"File path.","required":2,"default":null,"type":"path","allownull":true},"filesize":{"class":"external_value","desc":"File size.","required":2,"default":null,"type":"int","allownull":true},"fileurl":{"class":"external_value","desc":"Downloadable file url.","required":2,"default":null,"type":"url","allownull":true},"timemodified":{"class":"external_value","desc":"Time modified.","required":2,"default":null,"type":"int","allownull":true},"mimetype":{"class":"external_value","desc":"File mime type.","required":2,"default":null,"type":"raw","allownull":true},"isexternalfile":{"class":"external_value","desc":"Whether is an external file.","required":2,"default":null,"type":"bool","allownull":true},"repositorytype":{"class":"external_value","desc":"The repository type for external files.","required":2,"default":null,"type":"plugin","allownull":true}}}},"section":{"class":"external_value","desc":"Course section id","required":2,"default":null,"type":"int","allownull":true},"visible":{"class":"external_value","desc":"Visible","required":2,"default":null,"type":"bool","allownull":true},"groupmode":{"class":"external_value","desc":"Group mode","required":2,"default":null,"type":"int","allownull":true},"groupingid":{"class":"external_value","desc":"Group id","required":2,"default":null,"type":"int","allownull":true},"lang":{"class":"external_value","desc":"Forced activity language","required":2,"default":null,"type":"safedir","allownull":true},"publish":{"class":"external_value","desc":"If choice is published","required":2,"default":null,"type":"bool","allownull":true},"showresults":{"class":"external_value","desc":"0 never, 1 after answer, 2 after close, 3 always","required":2,"default":null,"type":"int","allownull":true},"display":{"class":"external_value","desc":"Display mode (vertical, horizontal)","required":2,"default":null,"type":"int","allownull":true},"allowupdate":{"class":"external_value","desc":"Allow update","required":2,"default":null,"type":"bool","allownull":true},"allowmultiple":{"class":"external_value","desc":"Allow multiple choices","required":2,"default":null,"type":"bool","allownull":true},"showunanswered":{"class":"external_value","desc":"Show users who not answered yet","required":2,"default":null,"type":"bool","allownull":true},"includeinactive":{"class":"external_value","desc":"Include inactive users","required":2,"default":null,"type":"bool","allownull":true},"limitanswers":{"class":"external_value","desc":"Limit unswers","required":2,"default":null,"type":"bool","allownull":true},"timeopen":{"class":"external_value","desc":"Date of opening validity","required":2,"default":null,"type":"int","allownull":true},"timeclose":{"class":"external_value","desc":"Date of closing validity","required":2,"default":null,"type":"int","allownull":true},"showpreview":{"class":"external_value","desc":"Show preview before timeopen","required":2,"default":null,"type":"bool","allownull":true},"timemodified":{"class":"external_value","desc":"Time of last modification","required":2,"default":null,"type":"int","allownull":true},"completionsubmit":{"class":"external_value","desc":"Completion on user submission","required":2,"default":null,"type":"bool","allownull":true},"showavailable":{"class":"external_value","desc":"Show available spaces","required":2,"default":null,"type":"bool","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Returns a list of choice instances in a provided set of courses,\n                            if no courses are provided then all the choice instances the user has access to will be returned.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_choice_submit_choice_response","component":"mod_choice","capabilities":"mod\/choice:choose","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"choiceid":{"class":"external_value","desc":"choice instance id","required":1,"default":null,"type":"int","allownull":true},"responses":{"class":"external_multiple_structure","desc":"Array of response ids","required":1,"default":null,"content":{"class":"external_value","desc":"answer id","required":1,"default":null,"type":"int","allownull":true}}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"answers":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"Answers","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"answer id","required":1,"default":null,"type":"int","allownull":true},"choiceid":{"class":"external_value","desc":"choiceid","required":1,"default":null,"type":"int","allownull":true},"userid":{"class":"external_value","desc":"user id","required":1,"default":null,"type":"int","allownull":true},"optionid":{"class":"external_value","desc":"optionid","required":1,"default":null,"type":"int","allownull":true},"timemodified":{"class":"external_value","desc":"time of last modification","required":1,"default":null,"type":"int","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Submit responses to a specific choice item.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_choice_view_choice","component":"mod_choice","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"choiceid":{"class":"external_value","desc":"choice instance id","required":1,"default":null,"type":"int","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"status":{"class":"external_value","desc":"status: true if success","required":1,"default":null,"type":"bool","allownull":true},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Trigger the course module viewed event and update the module completion status.","type":"write","loginrequired":true,"readonlysession":false}]}
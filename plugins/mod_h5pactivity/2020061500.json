{"functions":[{"name":"mod_h5pactivity_get_attempts","component":"mod_h5pactivity","capabilities":"mod\/h5pactivity:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"h5pactivityid":{"class":"external_value","type":"int","allownull":true,"desc":"h5p activity instance id","required":1,"default":null},"userids":{"class":"external_multiple_structure","content":{"class":"external_value","type":"int","allownull":true,"desc":"The user ids to get attempts (null means only current user)","required":0,"default":null},"desc":"User ids","required":0,"default":[]}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"activityid":{"class":"external_value","type":"int","allownull":true,"desc":"Activity course module ID","required":1,"default":null},"usersattempts":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"userid":{"class":"external_value","type":"int","allownull":true,"desc":"The user id","required":1,"default":null},"attempts":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the context","required":1,"default":null},"h5pactivityid":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the H5P activity","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the user","required":1,"default":null},"timecreated":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt creation","required":1,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt modified","required":1,"default":null},"attempt":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt number","required":1,"default":null},"rawscore":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt score value","required":1,"default":null},"maxscore":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt max score","required":1,"default":null},"duration":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt duration in seconds","required":1,"default":null},"completion":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt completion","required":2,"default":null},"success":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt success","required":2,"default":null},"scaled":{"class":"external_value","type":"float","allownull":true,"desc":"Attempt scaled","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"The complete attempts list","required":1,"default":null},"scored":{"class":"external_single_structure","keys":{"title":{"class":"external_value","type":"notags","allownull":true,"desc":"Scored attempts title","required":1,"default":null},"grademethod":{"class":"external_value","type":"notags","allownull":true,"desc":"Scored attempts title","required":1,"default":null},"attempts":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the context","required":1,"default":null},"h5pactivityid":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the H5P activity","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the user","required":1,"default":null},"timecreated":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt creation","required":1,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt modified","required":1,"default":null},"attempt":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt number","required":1,"default":null},"rawscore":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt score value","required":1,"default":null},"maxscore":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt max score","required":1,"default":null},"duration":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt duration in seconds","required":1,"default":null},"completion":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt completion","required":2,"default":null},"success":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt success","required":2,"default":null},"scaled":{"class":"external_value","type":"float","allownull":true,"desc":"Attempt scaled","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"List of the grading attempts","required":1,"default":null}},"desc":"Attempts used to grade the activity","required":2,"default":null}},"desc":"","required":1,"default":null},"desc":"The complete users attempts list","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"text","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"Activity attempts data","required":1,"default":null},"description":"Return the information needed to list a user attempts.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_h5pactivity_get_h5pactivities_by_courses","component":"mod_h5pactivity","capabilities":"mod\/h5pactivity:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"courseids":{"class":"external_multiple_structure","content":{"class":"external_value","type":"int","allownull":true,"desc":"Course id","required":1,"default":null},"desc":"Array of course ids","required":0,"default":[]}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"h5pactivities":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":false,"desc":"The primary key of the record.","required":1,"default":null},"course":{"class":"external_value","type":"int","allownull":false,"desc":"Course id this h5p activity is part of.","required":1,"default":null},"name":{"class":"external_value","type":"raw","allownull":false,"desc":"The name of the activity module instance.","required":1,"default":null},"timecreated":{"class":"external_value","type":"int","allownull":false,"desc":"Timestamp of when the instance was added to the course.","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":false,"desc":"Timestamp of when the instance was last modified.","required":2,"default":null},"intro":{"class":"external_value","type":"raw","allownull":true,"desc":"H5P activity description.","required":1,"default":null},"introformat":{"class":"external_format_value,external_value","type":"int","allownull":true,"desc":"intro format (1 = HTML, 0 = MOODLE, 2 = PLAIN or 4 = MARKDOWN)","required":0,"default":"1"},"grade":{"class":"external_value","type":"int","allownull":false,"desc":"The maximum grade for submission.","required":2,"default":null},"displayoptions":{"class":"external_value","type":"int","allownull":false,"desc":"H5P Button display options.","required":1,"default":null},"enabletracking":{"class":"external_value","type":"int","allownull":false,"desc":"Enable xAPI tracking.","required":1,"default":null},"grademethod":{"class":"external_value","type":"int","allownull":false,"desc":"Which H5P attempt is used for grading.","required":1,"default":null},"contenthash":{"class":"external_value","type":"alphanum","allownull":false,"desc":"Sha1 hash of file content.","required":2,"default":null},"coursemodule":{"class":"external_value","type":"int","allownull":false,"desc":"coursemodule","required":1,"default":null},"context":{"class":"external_value","type":"int","allownull":false,"desc":"context","required":1,"default":null},"introfiles":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"filename":{"class":"external_value","type":"file","allownull":false,"desc":"File name.","required":2,"default":null},"filepath":{"class":"external_value","type":"path","allownull":false,"desc":"File path.","required":2,"default":null},"filesize":{"class":"external_value","type":"int","allownull":false,"desc":"File size.","required":2,"default":null},"fileurl":{"class":"external_value","type":"url","allownull":false,"desc":"Downloadable file url.","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":false,"desc":"Time modified.","required":2,"default":null},"mimetype":{"class":"external_value","type":"raw","allownull":false,"desc":"File mime type.","required":2,"default":null},"isexternalfile":{"class":"external_value","type":"bool","allownull":false,"desc":"Whether is an external file.","required":2,"default":null},"repositorytype":{"class":"external_value","type":"plugin","allownull":true,"desc":"The repository type for the external files.","required":2,"default":null}},"desc":"","required":1,"default":null},"desc":"introfiles","required":1,"default":null},"package":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"filename":{"class":"external_value","type":"file","allownull":false,"desc":"File name.","required":2,"default":null},"filepath":{"class":"external_value","type":"path","allownull":false,"desc":"File path.","required":2,"default":null},"filesize":{"class":"external_value","type":"int","allownull":false,"desc":"File size.","required":2,"default":null},"fileurl":{"class":"external_value","type":"url","allownull":false,"desc":"Downloadable file url.","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":false,"desc":"Time modified.","required":2,"default":null},"mimetype":{"class":"external_value","type":"raw","allownull":false,"desc":"File mime type.","required":2,"default":null},"isexternalfile":{"class":"external_value","type":"bool","allownull":false,"desc":"Whether is an external file.","required":2,"default":null},"repositorytype":{"class":"external_value","type":"plugin","allownull":true,"desc":"The repository type for the external files.","required":2,"default":null}},"desc":"","required":1,"default":null},"desc":"package","required":1,"default":null},"deployedfile":{"class":"external_single_structure","keys":{"filename":{"class":"external_value","type":"file","allownull":false,"desc":"File name.","required":2,"default":null},"filepath":{"class":"external_value","type":"path","allownull":false,"desc":"File path.","required":2,"default":null},"filesize":{"class":"external_value","type":"int","allownull":false,"desc":"File size.","required":2,"default":null},"fileurl":{"class":"external_value","type":"url","allownull":false,"desc":"Downloadable file url.","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":false,"desc":"Time modified.","required":2,"default":null},"mimetype":{"class":"external_value","type":"raw","allownull":false,"desc":"File mime type.","required":2,"default":null}},"desc":"","required":2,"default":null}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"text","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Returns a list of h5p activities in a list of\n            provided courses, if no list is provided all h5p activities\n            that the user can view will be returned.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_h5pactivity_get_h5pactivity_access_information","component":"mod_h5pactivity","capabilities":"mod\/h5pactivity:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"h5pactivityid":{"class":"external_value","type":"int","allownull":true,"desc":"h5p activity instance id","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"text","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null},"canview":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the user has the capability mod\/h5pactivity:view allowed.","required":2,"default":null},"canaddinstance":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the user has the capability mod\/h5pactivity:addinstance allowed.","required":2,"default":null},"cansubmit":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the user has the capability mod\/h5pactivity:submit allowed.","required":2,"default":null},"canreviewattempts":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the user has the capability mod\/h5pactivity:reviewattempts allowed.","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return access information for a given h5p activity.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_h5pactivity_get_results","component":"mod_h5pactivity","capabilities":"mod\/h5pactivity:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"h5pactivityid":{"class":"external_value","type":"int","allownull":true,"desc":"h5p activity instance id","required":1,"default":null},"attemptids":{"class":"external_multiple_structure","content":{"class":"external_value","type":"int","allownull":true,"desc":"The attempt id","required":1,"default":null},"desc":"Attempt ids","required":0,"default":[]}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"activityid":{"class":"external_value","type":"int","allownull":true,"desc":"Activity course module ID","required":1,"default":null},"attempts":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the context","required":1,"default":null},"h5pactivityid":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the H5P activity","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the user","required":1,"default":null},"timecreated":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt creation","required":1,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt modified","required":1,"default":null},"attempt":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt number","required":1,"default":null},"rawscore":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt score value","required":1,"default":null},"maxscore":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt max score","required":1,"default":null},"duration":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt duration in seconds","required":1,"default":null},"completion":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt completion","required":2,"default":null},"success":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt success","required":2,"default":null},"scaled":{"class":"external_value","type":"float","allownull":true,"desc":"Attempt scaled","required":1,"default":null},"results":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the context","required":1,"default":null},"attemptid":{"class":"external_value","type":"int","allownull":true,"desc":"ID of the H5P attempt","required":1,"default":null},"subcontent":{"class":"external_value","type":"notags","allownull":true,"desc":"Subcontent identifier","required":1,"default":null},"timecreated":{"class":"external_value","type":"int","allownull":true,"desc":"Result creation","required":1,"default":null},"interactiontype":{"class":"external_value","type":"notags","allownull":true,"desc":"Interaction type","required":1,"default":null},"description":{"class":"external_value","type":"raw","allownull":true,"desc":"Result description","required":1,"default":null},"content":{"class":"external_value","type":"raw","allownull":true,"desc":"Result extra content","required":2,"default":null},"rawscore":{"class":"external_value","type":"int","allownull":true,"desc":"Result score value","required":1,"default":null},"maxscore":{"class":"external_value","type":"int","allownull":true,"desc":"Result max score","required":1,"default":null},"duration":{"class":"external_value","type":"int","allownull":true,"desc":"Result duration in seconds","required":2,"default":null},"completion":{"class":"external_value","type":"int","allownull":true,"desc":"Result completion","required":2,"default":null},"success":{"class":"external_value","type":"int","allownull":true,"desc":"Result success","required":2,"default":null},"optionslabel":{"class":"external_value","type":"notags","allownull":true,"desc":"Label used for result options","required":2,"default":null},"correctlabel":{"class":"external_value","type":"notags","allownull":true,"desc":"Label used for correct answers","required":2,"default":null},"answerlabel":{"class":"external_value","type":"notags","allownull":true,"desc":"Label used for user answers","required":2,"default":null},"track":{"class":"external_value","type":"bool","allownull":true,"desc":"If the result has valid track information","required":2,"default":null},"options":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"description":{"class":"external_value","type":"raw","allownull":true,"desc":"Option description","required":2,"default":null},"id":{"class":"external_value","type":"text","allownull":true,"desc":"Option string identifier","required":2,"default":null},"correctanswer":{"class":"external_single_structure","keys":{"answer":{"class":"external_value","type":"notags","allownull":true,"desc":"Option text value","required":2,"default":null},"correct":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as correct","required":2,"default":null},"incorrect":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as incorrect","required":2,"default":null},"text":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as simple text","required":2,"default":null},"checked":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as a checked option","required":2,"default":null},"unchecked":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as a unchecked option","required":2,"default":null},"pass":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as passed","required":2,"default":null},"fail":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as failed","required":2,"default":null}},"desc":"The option correct answer","required":2,"default":null},"useranswer":{"class":"external_single_structure","keys":{"answer":{"class":"external_value","type":"notags","allownull":true,"desc":"Option text value","required":2,"default":null},"correct":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as correct","required":2,"default":null},"incorrect":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as incorrect","required":2,"default":null},"text":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as simple text","required":2,"default":null},"checked":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as a checked option","required":2,"default":null},"unchecked":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as a unchecked option","required":2,"default":null},"pass":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as passed","required":2,"default":null},"fail":{"class":"external_value","type":"bool","allownull":true,"desc":"If has to be displayed as failed","required":2,"default":null}},"desc":"The option user answer","required":2,"default":null}},"desc":"","required":1,"default":null},"desc":"The statement options","required":2,"default":null}},"desc":"A single result statement tracking information","required":1,"default":null},"desc":"The results of the attempt","required":2,"default":null}},"desc":"The attempt general information","required":1,"default":null},"desc":"The complete attempts list","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"text","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"Activity attempts results data","required":1,"default":null},"description":"Return the information needed to list a user attempt results.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_h5pactivity_view_h5pactivity","component":"mod_h5pactivity","capabilities":"mod\/h5pactivity:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"h5pactivityid":{"class":"external_value","type":"int","allownull":true,"desc":"H5P activity instance id","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"status":{"class":"external_value","type":"bool","allownull":true,"desc":"status: true if success","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"text","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Trigger the course module viewed event and update the module completion status.","type":"write","loginrequired":true,"readonlysession":false}]}
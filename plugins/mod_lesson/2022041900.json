{"functions":[{"name":"mod_lesson_finish_attempt","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"Lesson instance id.","required":1,"default":null},"password":{"class":"external_value","type":"raw","allownull":true,"desc":"Optional password (the lesson may be protected).","required":0,"default":""},"outoftime":{"class":"external_value","type":"bool","allownull":true,"desc":"If the user run out of time.","required":0,"default":false},"review":{"class":"external_value","type":"bool","allownull":true,"desc":"If we want to review just after finishing (1 hour margin).","required":0,"default":false}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"data":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"name":{"class":"external_value","type":"alphanumext","allownull":true,"desc":"Data name.","required":1,"default":null},"value":{"class":"external_value","type":"raw","allownull":true,"desc":"Data value.","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"Data message (translated string).","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"The EOL page information data.","required":1,"default":null},"messages":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"message":{"class":"external_value","type":"raw","allownull":true,"desc":"Message.","required":1,"default":null},"type":{"class":"external_value","type":"alphanumext","allownull":true,"desc":"Message type: usually a CSS identifier like:\n                                success, info, warning, error, notifyproblem, notifyerror, notifytiny, notifysuccess","required":1,"default":null}},"desc":"The lesson generated messages","required":1,"default":null},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Finishes the current attempt.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_attempts_overview","component":"mod_lesson","capabilities":"mod\/lesson:viewreports","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null},"groupid":{"class":"external_value","type":"int","allownull":true,"desc":"group id, 0 means that the function will determine the user group","required":0,"default":0}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"data":{"class":"external_single_structure","keys":{"lessonscored":{"class":"external_value","type":"bool","allownull":true,"desc":"True if the lesson was scored.","required":1,"default":null},"numofattempts":{"class":"external_value","type":"int","allownull":true,"desc":"Number of attempts.","required":1,"default":null},"avescore":{"class":"external_value","type":"float","allownull":true,"desc":"Average score.","required":1,"default":null},"highscore":{"class":"external_value","type":"float","allownull":true,"desc":"High score.","required":1,"default":null},"lowscore":{"class":"external_value","type":"float","allownull":true,"desc":"Low score.","required":1,"default":null},"avetime":{"class":"external_value","type":"int","allownull":true,"desc":"Average time (spent in taking the lesson).","required":1,"default":null},"hightime":{"class":"external_value","type":"int","allownull":true,"desc":"High time.","required":1,"default":null},"lowtime":{"class":"external_value","type":"int","allownull":true,"desc":"Low time.","required":1,"default":null},"students":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"User id.","required":1,"default":null},"fullname":{"class":"external_value","type":"text","allownull":true,"desc":"User full name.","required":1,"default":null},"bestgrade":{"class":"external_value","type":"float","allownull":true,"desc":"Best grade.","required":1,"default":null},"attempts":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"try":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt number.","required":1,"default":null},"grade":{"class":"external_value","type":"float","allownull":true,"desc":"Attempt grade.","required":1,"default":null},"timestart":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt time started.","required":1,"default":null},"timeend":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt last time continued.","required":1,"default":null},"end":{"class":"external_value","type":"int","allownull":true,"desc":"Attempt time ended.","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"Students data, including attempts.","required":2,"default":null}},"desc":"Attempts overview data (empty for no attemps).","required":2,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Get a list of all the attempts made by users in a lesson.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_content_pages_viewed","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null},"lessonattempt":{"class":"external_value","type":"int","allownull":true,"desc":"lesson attempt number","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"the user id (empty for current user)","required":0,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"pages":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"The attempt id.","required":1,"default":null},"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"The lesson id.","required":1,"default":null},"pageid":{"class":"external_value","type":"int","allownull":true,"desc":"The page id.","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"The user who viewed the page.","required":1,"default":null},"retry":{"class":"external_value","type":"int","allownull":true,"desc":"The lesson attempt number.","required":1,"default":null},"flag":{"class":"external_value","type":"int","allownull":true,"desc":"1 if the next page was calculated randomly.","required":1,"default":null},"timeseen":{"class":"external_value","type":"int","allownull":true,"desc":"The time the page was seen.","required":1,"default":null},"nextpageid":{"class":"external_value","type":"int","allownull":true,"desc":"The next page chosen id.","required":1,"default":null}},"desc":"The content pages viewed.","required":1,"default":null},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return the list of content pages viewed by a user during a lesson attempt.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_lesson","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null},"password":{"class":"external_value","type":"raw","allownull":true,"desc":"lesson password","required":0,"default":""}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"lesson":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":false,"desc":"Standard Moodle primary key.","required":1,"default":null},"course":{"class":"external_value","type":"int","allownull":false,"desc":"Foreign key reference to the course this lesson is part of.","required":1,"default":null},"coursemodule":{"class":"external_value","type":"int","allownull":false,"desc":"Course module id.","required":1,"default":null},"name":{"class":"external_value","type":"raw","allownull":false,"desc":"Lesson name.","required":1,"default":null},"intro":{"class":"external_value","type":"raw","allownull":false,"desc":"Lesson introduction text.","required":2,"default":null},"introformat":{"class":"external_format_value,external_value","type":"int","allownull":true,"desc":"intro format (1 = HTML, 0 = MOODLE, 2 = PLAIN or 4 = MARKDOWN)","required":0,"default":"1"},"practice":{"class":"external_value","type":"bool","allownull":false,"desc":"Practice lesson?","required":2,"default":null},"modattempts":{"class":"external_value","type":"bool","allownull":false,"desc":"Allow student review?","required":2,"default":null},"usepassword":{"class":"external_value","type":"bool","allownull":false,"desc":"Password protected lesson?","required":2,"default":null},"password":{"class":"external_value","type":"raw","allownull":false,"desc":"Password","required":2,"default":null},"dependency":{"class":"external_value","type":"int","allownull":false,"desc":"Dependent on (another lesson id)","required":2,"default":null},"conditions":{"class":"external_value","type":"raw","allownull":false,"desc":"Conditions to enable the lesson","required":2,"default":null},"grade":{"class":"external_value","type":"int","allownull":false,"desc":"The total that the grade is scaled to be out of","required":2,"default":null},"custom":{"class":"external_value","type":"bool","allownull":false,"desc":"Custom scoring?","required":2,"default":null},"ongoing":{"class":"external_value","type":"bool","allownull":false,"desc":"Display ongoing score?","required":2,"default":null},"usemaxgrade":{"class":"external_value","type":"int","allownull":false,"desc":"How to calculate the final grade","required":2,"default":null},"maxanswers":{"class":"external_value","type":"int","allownull":false,"desc":"Maximum answers per page","required":2,"default":null},"maxattempts":{"class":"external_value","type":"int","allownull":false,"desc":"Maximum attempts","required":2,"default":null},"review":{"class":"external_value","type":"bool","allownull":false,"desc":"Provide option to try a question again","required":2,"default":null},"nextpagedefault":{"class":"external_value","type":"int","allownull":false,"desc":"Action for a correct answer","required":2,"default":null},"feedback":{"class":"external_value","type":"bool","allownull":false,"desc":"Display default feedback","required":2,"default":null},"minquestions":{"class":"external_value","type":"int","allownull":false,"desc":"Minimum number of questions","required":2,"default":null},"maxpages":{"class":"external_value","type":"int","allownull":false,"desc":"Number of pages to show","required":2,"default":null},"timelimit":{"class":"external_value","type":"int","allownull":false,"desc":"Time limit","required":2,"default":null},"retake":{"class":"external_value","type":"bool","allownull":false,"desc":"Re-takes allowed","required":2,"default":null},"activitylink":{"class":"external_value","type":"int","allownull":false,"desc":"Id of the next activity to be linked once the lesson is completed","required":2,"default":null},"mediafile":{"class":"external_value","type":"raw","allownull":false,"desc":"Local file path or full external URL","required":2,"default":null},"mediaheight":{"class":"external_value","type":"int","allownull":false,"desc":"Popup for media file height","required":2,"default":null},"mediawidth":{"class":"external_value","type":"int","allownull":false,"desc":"Popup for media with","required":2,"default":null},"mediaclose":{"class":"external_value","type":"int","allownull":false,"desc":"Display a close button in the popup?","required":2,"default":null},"slideshow":{"class":"external_value","type":"bool","allownull":false,"desc":"Display lesson as slideshow","required":2,"default":null},"width":{"class":"external_value","type":"int","allownull":false,"desc":"Slideshow width","required":2,"default":null},"height":{"class":"external_value","type":"int","allownull":false,"desc":"Slideshow height","required":2,"default":null},"bgcolor":{"class":"external_value","type":"raw","allownull":false,"desc":"Slideshow bgcolor","required":2,"default":null},"displayleft":{"class":"external_value","type":"bool","allownull":false,"desc":"Display left pages menu?","required":2,"default":null},"displayleftif":{"class":"external_value","type":"int","allownull":false,"desc":"Minimum grade to display menu","required":2,"default":null},"progressbar":{"class":"external_value","type":"bool","allownull":false,"desc":"Display progress bar?","required":2,"default":null},"available":{"class":"external_value","type":"int","allownull":false,"desc":"Available from","required":2,"default":null},"deadline":{"class":"external_value","type":"int","allownull":false,"desc":"Available until","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":false,"desc":"Last time settings were updated","required":2,"default":null},"completionendreached":{"class":"external_value","type":"int","allownull":false,"desc":"Require end reached for completion?","required":2,"default":null},"completiontimespent":{"class":"external_value","type":"int","allownull":false,"desc":"Student must do this activity at least for","required":2,"default":null},"allowofflineattempts":{"class":"external_value","type":"bool","allownull":false,"desc":"Whether to allow the lesson to be attempted offline in the mobile app","required":1,"default":null},"introfiles":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"filename":{"class":"external_value","type":"file","allownull":false,"desc":"File name.","required":2,"default":null},"filepath":{"class":"external_value","type":"path","allownull":false,"desc":"File path.","required":2,"default":null},"filesize":{"class":"external_value","type":"int","allownull":false,"desc":"File size.","required":2,"default":null},"fileurl":{"class":"external_value","type":"url","allownull":false,"desc":"Downloadable file url.","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":false,"desc":"Time modified.","required":2,"default":null},"mimetype":{"class":"external_value","type":"raw","allownull":false,"desc":"File mime type.","required":2,"default":null},"isexternalfile":{"class":"external_value","type":"bool","allownull":false,"desc":"Whether is an external file.","required":2,"default":null},"repositorytype":{"class":"external_value","type":"plugin","allownull":true,"desc":"The repository type for the external files.","required":2,"default":null}},"desc":"","required":2,"default":null},"desc":"introfiles","required":2,"default":null},"mediafiles":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"filename":{"class":"external_value","type":"file","allownull":false,"desc":"File name.","required":2,"default":null},"filepath":{"class":"external_value","type":"path","allownull":false,"desc":"File path.","required":2,"default":null},"filesize":{"class":"external_value","type":"int","allownull":false,"desc":"File size.","required":2,"default":null},"fileurl":{"class":"external_value","type":"url","allownull":false,"desc":"Downloadable file url.","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":false,"desc":"Time modified.","required":2,"default":null},"mimetype":{"class":"external_value","type":"raw","allownull":false,"desc":"File mime type.","required":2,"default":null},"isexternalfile":{"class":"external_value","type":"bool","allownull":false,"desc":"Whether is an external file.","required":2,"default":null},"repositorytype":{"class":"external_value","type":"plugin","allownull":true,"desc":"The repository type for the external files.","required":2,"default":null}},"desc":"","required":2,"default":null},"desc":"mediafiles","required":2,"default":null}},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return information of a given lesson.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_lesson_access_information","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"canmanage":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the user can manage the lesson or not.","required":1,"default":null},"cangrade":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the user can grade the lesson or not.","required":1,"default":null},"canviewreports":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the user can view the lesson reports or not.","required":1,"default":null},"reviewmode":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the lesson is in review mode for the current user.","required":1,"default":null},"attemptscount":{"class":"external_value","type":"int","allownull":true,"desc":"The number of attempts done by the user.","required":1,"default":null},"lastpageseen":{"class":"external_value","type":"int","allownull":true,"desc":"The last page seen id.","required":1,"default":null},"leftduringtimedsession":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the user left during a timed session.","required":1,"default":null},"firstpageid":{"class":"external_value","type":"int","allownull":true,"desc":"The lesson first page id.","required":1,"default":null},"preventaccessreasons":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"reason":{"class":"external_value","type":"alphanumext","allownull":true,"desc":"Reason lang string code","required":1,"default":null},"data":{"class":"external_value","type":"raw","allownull":true,"desc":"Additional data","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"Complete html message","required":1,"default":null}},"desc":"The reasons why the user cannot attempt the lesson","required":1,"default":null},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return access information for a given lesson.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_lessons_by_courses","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"courseids":{"class":"external_multiple_structure","content":{"class":"external_value","type":"int","allownull":true,"desc":"course id","required":1,"default":null},"desc":"Array of course ids","required":0,"default":[]}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"lessons":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":false,"desc":"Standard Moodle primary key.","required":1,"default":null},"course":{"class":"external_value","type":"int","allownull":false,"desc":"Foreign key reference to the course this lesson is part of.","required":1,"default":null},"coursemodule":{"class":"external_value","type":"int","allownull":false,"desc":"Course module id.","required":1,"default":null},"name":{"class":"external_value","type":"raw","allownull":false,"desc":"Lesson name.","required":1,"default":null},"intro":{"class":"external_value","type":"raw","allownull":false,"desc":"Lesson introduction text.","required":2,"default":null},"introformat":{"class":"external_format_value,external_value","type":"int","allownull":true,"desc":"intro format (1 = HTML, 0 = MOODLE, 2 = PLAIN or 4 = MARKDOWN)","required":0,"default":"1"},"practice":{"class":"external_value","type":"bool","allownull":false,"desc":"Practice lesson?","required":2,"default":null},"modattempts":{"class":"external_value","type":"bool","allownull":false,"desc":"Allow student review?","required":2,"default":null},"usepassword":{"class":"external_value","type":"bool","allownull":false,"desc":"Password protected lesson?","required":2,"default":null},"password":{"class":"external_value","type":"raw","allownull":false,"desc":"Password","required":2,"default":null},"dependency":{"class":"external_value","type":"int","allownull":false,"desc":"Dependent on (another lesson id)","required":2,"default":null},"conditions":{"class":"external_value","type":"raw","allownull":false,"desc":"Conditions to enable the lesson","required":2,"default":null},"grade":{"class":"external_value","type":"int","allownull":false,"desc":"The total that the grade is scaled to be out of","required":2,"default":null},"custom":{"class":"external_value","type":"bool","allownull":false,"desc":"Custom scoring?","required":2,"default":null},"ongoing":{"class":"external_value","type":"bool","allownull":false,"desc":"Display ongoing score?","required":2,"default":null},"usemaxgrade":{"class":"external_value","type":"int","allownull":false,"desc":"How to calculate the final grade","required":2,"default":null},"maxanswers":{"class":"external_value","type":"int","allownull":false,"desc":"Maximum answers per page","required":2,"default":null},"maxattempts":{"class":"external_value","type":"int","allownull":false,"desc":"Maximum attempts","required":2,"default":null},"review":{"class":"external_value","type":"bool","allownull":false,"desc":"Provide option to try a question again","required":2,"default":null},"nextpagedefault":{"class":"external_value","type":"int","allownull":false,"desc":"Action for a correct answer","required":2,"default":null},"feedback":{"class":"external_value","type":"bool","allownull":false,"desc":"Display default feedback","required":2,"default":null},"minquestions":{"class":"external_value","type":"int","allownull":false,"desc":"Minimum number of questions","required":2,"default":null},"maxpages":{"class":"external_value","type":"int","allownull":false,"desc":"Number of pages to show","required":2,"default":null},"timelimit":{"class":"external_value","type":"int","allownull":false,"desc":"Time limit","required":2,"default":null},"retake":{"class":"external_value","type":"bool","allownull":false,"desc":"Re-takes allowed","required":2,"default":null},"activitylink":{"class":"external_value","type":"int","allownull":false,"desc":"Id of the next activity to be linked once the lesson is completed","required":2,"default":null},"mediafile":{"class":"external_value","type":"raw","allownull":false,"desc":"Local file path or full external URL","required":2,"default":null},"mediaheight":{"class":"external_value","type":"int","allownull":false,"desc":"Popup for media file height","required":2,"default":null},"mediawidth":{"class":"external_value","type":"int","allownull":false,"desc":"Popup for media with","required":2,"default":null},"mediaclose":{"class":"external_value","type":"int","allownull":false,"desc":"Display a close button in the popup?","required":2,"default":null},"slideshow":{"class":"external_value","type":"bool","allownull":false,"desc":"Display lesson as slideshow","required":2,"default":null},"width":{"class":"external_value","type":"int","allownull":false,"desc":"Slideshow width","required":2,"default":null},"height":{"class":"external_value","type":"int","allownull":false,"desc":"Slideshow height","required":2,"default":null},"bgcolor":{"class":"external_value","type":"raw","allownull":false,"desc":"Slideshow bgcolor","required":2,"default":null},"displayleft":{"class":"external_value","type":"bool","allownull":false,"desc":"Display left pages menu?","required":2,"default":null},"displayleftif":{"class":"external_value","type":"int","allownull":false,"desc":"Minimum grade to display menu","required":2,"default":null},"progressbar":{"class":"external_value","type":"bool","allownull":false,"desc":"Display progress bar?","required":2,"default":null},"available":{"class":"external_value","type":"int","allownull":false,"desc":"Available from","required":2,"default":null},"deadline":{"class":"external_value","type":"int","allownull":false,"desc":"Available until","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":false,"desc":"Last time settings were updated","required":2,"default":null},"completionendreached":{"class":"external_value","type":"int","allownull":false,"desc":"Require end reached for completion?","required":2,"default":null},"completiontimespent":{"class":"external_value","type":"int","allownull":false,"desc":"Student must do this activity at least for","required":2,"default":null},"allowofflineattempts":{"class":"external_value","type":"bool","allownull":false,"desc":"Whether to allow the lesson to be attempted offline in the mobile app","required":1,"default":null},"introfiles":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"filename":{"class":"external_value","type":"file","allownull":false,"desc":"File name.","required":2,"default":null},"filepath":{"class":"external_value","type":"path","allownull":false,"desc":"File path.","required":2,"default":null},"filesize":{"class":"external_value","type":"int","allownull":false,"desc":"File size.","required":2,"default":null},"fileurl":{"class":"external_value","type":"url","allownull":false,"desc":"Downloadable file url.","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":false,"desc":"Time modified.","required":2,"default":null},"mimetype":{"class":"external_value","type":"raw","allownull":false,"desc":"File mime type.","required":2,"default":null},"isexternalfile":{"class":"external_value","type":"bool","allownull":false,"desc":"Whether is an external file.","required":2,"default":null},"repositorytype":{"class":"external_value","type":"plugin","allownull":true,"desc":"The repository type for the external files.","required":2,"default":null}},"desc":"","required":2,"default":null},"desc":"introfiles","required":2,"default":null},"mediafiles":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"filename":{"class":"external_value","type":"file","allownull":false,"desc":"File name.","required":2,"default":null},"filepath":{"class":"external_value","type":"path","allownull":false,"desc":"File path.","required":2,"default":null},"filesize":{"class":"external_value","type":"int","allownull":false,"desc":"File size.","required":2,"default":null},"fileurl":{"class":"external_value","type":"url","allownull":false,"desc":"Downloadable file url.","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":false,"desc":"Time modified.","required":2,"default":null},"mimetype":{"class":"external_value","type":"raw","allownull":false,"desc":"File mime type.","required":2,"default":null},"isexternalfile":{"class":"external_value","type":"bool","allownull":false,"desc":"Whether is an external file.","required":2,"default":null},"repositorytype":{"class":"external_value","type":"plugin","allownull":true,"desc":"The repository type for the external files.","required":2,"default":null}},"desc":"","required":2,"default":null},"desc":"mediafiles","required":2,"default":null}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Returns a list of lessons in a provided list of courses,\n                            if no list is provided all lessons that the user can view will be returned.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_page_data","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null},"pageid":{"class":"external_value","type":"int","allownull":true,"desc":"the page id","required":1,"default":null},"password":{"class":"external_value","type":"raw","allownull":true,"desc":"optional password (the lesson may be protected)","required":0,"default":""},"review":{"class":"external_value","type":"bool","allownull":true,"desc":"if we want to review just after finishing (1 hour margin)","required":0,"default":false},"returncontents":{"class":"external_value","type":"bool","allownull":true,"desc":"if we must return the complete page contents once rendered","required":0,"default":false}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"page":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"The id of this lesson page","required":1,"default":null},"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"The id of the lesson this page belongs to","required":1,"default":null},"prevpageid":{"class":"external_value","type":"int","allownull":true,"desc":"The id of the page before this one","required":1,"default":null},"nextpageid":{"class":"external_value","type":"int","allownull":true,"desc":"The id of the next page in the page sequence","required":1,"default":null},"qtype":{"class":"external_value","type":"int","allownull":true,"desc":"Identifies the page type of this page","required":1,"default":null},"qoption":{"class":"external_value","type":"int","allownull":true,"desc":"Used to record page type specific options","required":1,"default":null},"layout":{"class":"external_value","type":"int","allownull":true,"desc":"Used to record page specific layout selections","required":1,"default":null},"display":{"class":"external_value","type":"int","allownull":true,"desc":"Used to record page specific display selections","required":1,"default":null},"timecreated":{"class":"external_value","type":"int","allownull":true,"desc":"Timestamp for when the page was created","required":1,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Timestamp for when the page was last modified","required":1,"default":null},"title":{"class":"external_value","type":"raw","allownull":true,"desc":"The title of this page","required":2,"default":null},"contents":{"class":"external_value","type":"raw","allownull":true,"desc":"The contents of this page","required":2,"default":null},"contentsformat":{"class":"external_format_value,external_value","type":"int","allownull":true,"desc":"contents format (1 = HTML, 0 = MOODLE, 2 = PLAIN or 4 = MARKDOWN)","required":2,"default":null},"displayinmenublock":{"class":"external_value","type":"bool","allownull":true,"desc":"Toggles display in the left menu block","required":1,"default":null},"type":{"class":"external_value","type":"int","allownull":true,"desc":"The type of the page [question | structure]","required":1,"default":null},"typeid":{"class":"external_value","type":"int","allownull":true,"desc":"The unique identifier for the page type","required":1,"default":null},"typestring":{"class":"external_value","type":"raw","allownull":true,"desc":"The string that describes this page type","required":1,"default":null}},"desc":"Page fields","required":2,"default":null},"newpageid":{"class":"external_value","type":"int","allownull":true,"desc":"New page id (if a jump was made)","required":1,"default":null},"pagecontent":{"class":"external_value","type":"raw","allownull":true,"desc":"Page html content","required":2,"default":null},"ongoingscore":{"class":"external_value","type":"text","allownull":true,"desc":"The ongoing score message","required":1,"default":null},"progress":{"class":"external_value","type":"int","allownull":true,"desc":"Progress percentage in the lesson","required":1,"default":null},"contentfiles":{"class":"external_files,external_multiple_structure","content":{"class":"external_single_structure","keys":{"filename":{"class":"external_value","type":"file","allownull":true,"desc":"File name.","required":2,"default":null},"filepath":{"class":"external_value","type":"path","allownull":true,"desc":"File path.","required":2,"default":null},"filesize":{"class":"external_value","type":"int","allownull":true,"desc":"File size.","required":2,"default":null},"fileurl":{"class":"external_value","type":"url","allownull":true,"desc":"Downloadable file url.","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Time modified.","required":2,"default":null},"mimetype":{"class":"external_value","type":"raw","allownull":true,"desc":"File mime type.","required":2,"default":null},"isexternalfile":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether is an external file.","required":2,"default":null},"repositorytype":{"class":"external_value","type":"plugin","allownull":true,"desc":"The repository type for external files.","required":2,"default":null}},"desc":"File.","required":1,"default":null},"desc":"List of files.","required":1,"default":null},"answers":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"The ID of this answer in the database","required":1,"default":null},"answerfiles":{"class":"external_files,external_multiple_structure","content":{"class":"external_single_structure","keys":{"filename":{"class":"external_value","type":"file","allownull":true,"desc":"File name.","required":2,"default":null},"filepath":{"class":"external_value","type":"path","allownull":true,"desc":"File path.","required":2,"default":null},"filesize":{"class":"external_value","type":"int","allownull":true,"desc":"File size.","required":2,"default":null},"fileurl":{"class":"external_value","type":"url","allownull":true,"desc":"Downloadable file url.","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Time modified.","required":2,"default":null},"mimetype":{"class":"external_value","type":"raw","allownull":true,"desc":"File mime type.","required":2,"default":null},"isexternalfile":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether is an external file.","required":2,"default":null},"repositorytype":{"class":"external_value","type":"plugin","allownull":true,"desc":"The repository type for external files.","required":2,"default":null}},"desc":"File.","required":1,"default":null},"desc":"List of files.","required":1,"default":null},"responsefiles":{"class":"external_files,external_multiple_structure","content":{"class":"external_single_structure","keys":{"filename":{"class":"external_value","type":"file","allownull":true,"desc":"File name.","required":2,"default":null},"filepath":{"class":"external_value","type":"path","allownull":true,"desc":"File path.","required":2,"default":null},"filesize":{"class":"external_value","type":"int","allownull":true,"desc":"File size.","required":2,"default":null},"fileurl":{"class":"external_value","type":"url","allownull":true,"desc":"Downloadable file url.","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Time modified.","required":2,"default":null},"mimetype":{"class":"external_value","type":"raw","allownull":true,"desc":"File mime type.","required":2,"default":null},"isexternalfile":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether is an external file.","required":2,"default":null},"repositorytype":{"class":"external_value","type":"plugin","allownull":true,"desc":"The repository type for external files.","required":2,"default":null}},"desc":"File.","required":1,"default":null},"desc":"List of files.","required":1,"default":null},"jumpto":{"class":"external_value","type":"int","allownull":true,"desc":"Identifies where the user goes upon completing a page with this answer","required":2,"default":null},"grade":{"class":"external_value","type":"int","allownull":true,"desc":"The grade this answer is worth","required":2,"default":null},"score":{"class":"external_value","type":"int","allownull":true,"desc":"The score this answer will give","required":2,"default":null},"flags":{"class":"external_value","type":"int","allownull":true,"desc":"Used to store options for the answer","required":2,"default":null},"timecreated":{"class":"external_value","type":"int","allownull":true,"desc":"A timestamp of when the answer was created","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"A timestamp of when the answer was modified","required":2,"default":null},"answer":{"class":"external_value","type":"raw","allownull":true,"desc":"Possible answer text","required":2,"default":null},"answerformat":{"class":"external_format_value,external_value","type":"int","allownull":true,"desc":"answer format (1 = HTML, 0 = MOODLE, 2 = PLAIN or 4 = MARKDOWN)","required":2,"default":null},"response":{"class":"external_value","type":"raw","allownull":true,"desc":"Response text for the answer","required":2,"default":null},"responseformat":{"class":"external_format_value,external_value","type":"int","allownull":true,"desc":"response format (1 = HTML, 0 = MOODLE, 2 = PLAIN or 4 = MARKDOWN)","required":2,"default":null}},"desc":"The page answers","required":1,"default":null},"desc":"","required":1,"default":null},"messages":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"message":{"class":"external_value","type":"raw","allownull":true,"desc":"Message.","required":1,"default":null},"type":{"class":"external_value","type":"alphanumext","allownull":true,"desc":"Message type: usually a CSS identifier like:\n                                success, info, warning, error, notifyproblem, notifyerror, notifytiny, notifysuccess","required":1,"default":null}},"desc":"The lesson generated messages","required":1,"default":null},"desc":"","required":1,"default":null},"displaymenu":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether we should display the menu or not in this page.","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return information of a given page, including its contents.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_pages","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null},"password":{"class":"external_value","type":"raw","allownull":true,"desc":"optional password (the lesson may be protected)","required":0,"default":""}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"pages":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"page":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"The id of this lesson page","required":1,"default":null},"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"The id of the lesson this page belongs to","required":1,"default":null},"prevpageid":{"class":"external_value","type":"int","allownull":true,"desc":"The id of the page before this one","required":1,"default":null},"nextpageid":{"class":"external_value","type":"int","allownull":true,"desc":"The id of the next page in the page sequence","required":1,"default":null},"qtype":{"class":"external_value","type":"int","allownull":true,"desc":"Identifies the page type of this page","required":1,"default":null},"qoption":{"class":"external_value","type":"int","allownull":true,"desc":"Used to record page type specific options","required":1,"default":null},"layout":{"class":"external_value","type":"int","allownull":true,"desc":"Used to record page specific layout selections","required":1,"default":null},"display":{"class":"external_value","type":"int","allownull":true,"desc":"Used to record page specific display selections","required":1,"default":null},"timecreated":{"class":"external_value","type":"int","allownull":true,"desc":"Timestamp for when the page was created","required":1,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Timestamp for when the page was last modified","required":1,"default":null},"title":{"class":"external_value","type":"raw","allownull":true,"desc":"The title of this page","required":2,"default":null},"contents":{"class":"external_value","type":"raw","allownull":true,"desc":"The contents of this page","required":2,"default":null},"contentsformat":{"class":"external_format_value,external_value","type":"int","allownull":true,"desc":"contents format (1 = HTML, 0 = MOODLE, 2 = PLAIN or 4 = MARKDOWN)","required":2,"default":null},"displayinmenublock":{"class":"external_value","type":"bool","allownull":true,"desc":"Toggles display in the left menu block","required":1,"default":null},"type":{"class":"external_value","type":"int","allownull":true,"desc":"The type of the page [question | structure]","required":1,"default":null},"typeid":{"class":"external_value","type":"int","allownull":true,"desc":"The unique identifier for the page type","required":1,"default":null},"typestring":{"class":"external_value","type":"raw","allownull":true,"desc":"The string that describes this page type","required":1,"default":null}},"desc":"Page fields","required":1,"default":null},"answerids":{"class":"external_multiple_structure","content":{"class":"external_value","type":"int","allownull":true,"desc":"Answer id","required":1,"default":null},"desc":"List of answers ids (empty for content pages in  Moodle 1.9)","required":1,"default":null},"jumps":{"class":"external_multiple_structure","content":{"class":"external_value","type":"int","allownull":true,"desc":"Page to jump id","required":1,"default":null},"desc":"List of possible page jumps","required":1,"default":null},"filescount":{"class":"external_value","type":"int","allownull":true,"desc":"The total number of files attached to the page","required":1,"default":null},"filessizetotal":{"class":"external_value","type":"int","allownull":true,"desc":"The total size of the files","required":1,"default":null}},"desc":"The lesson pages","required":1,"default":null},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return the list of pages in a lesson (based on the user permissions).","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_pages_possible_jumps","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"jumps":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"pageid":{"class":"external_value","type":"int","allownull":true,"desc":"The page id","required":1,"default":null},"answerid":{"class":"external_value","type":"int","allownull":true,"desc":"The answer id","required":1,"default":null},"jumpto":{"class":"external_value","type":"int","allownull":true,"desc":"The jump (page id or type of jump)","required":1,"default":null},"calculatedjump":{"class":"external_value","type":"int","allownull":true,"desc":"The real page id (or EOL) to jump","required":1,"default":null}},"desc":"Jump for a page answer","required":1,"default":null},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return all the possible jumps for the pages in a given lesson.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_questions_attempts","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null},"attempt":{"class":"external_value","type":"int","allownull":true,"desc":"lesson attempt number","required":1,"default":null},"correct":{"class":"external_value","type":"bool","allownull":true,"desc":"only fetch correct attempts","required":0,"default":false},"pageid":{"class":"external_value","type":"int","allownull":true,"desc":"only fetch attempts at the given page","required":0,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"only fetch attempts of the given user","required":0,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"attempts":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"The attempt id","required":1,"default":null},"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"The attempt lessonid","required":1,"default":null},"pageid":{"class":"external_value","type":"int","allownull":true,"desc":"The attempt pageid","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"The user who did the attempt","required":1,"default":null},"answerid":{"class":"external_value","type":"int","allownull":true,"desc":"The attempt answerid","required":1,"default":null},"retry":{"class":"external_value","type":"int","allownull":true,"desc":"The lesson attempt number","required":1,"default":null},"correct":{"class":"external_value","type":"int","allownull":true,"desc":"If it was the correct answer","required":1,"default":null},"useranswer":{"class":"external_value","type":"raw","allownull":true,"desc":"The complete user answer","required":1,"default":null},"timeseen":{"class":"external_value","type":"int","allownull":true,"desc":"The time the question was seen","required":1,"default":null}},"desc":"The question page attempts","required":1,"default":null},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return the list of questions attempts in a given lesson.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_user_attempt","component":"mod_lesson","capabilities":"mod\/lesson:viewreports","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"Lesson instance id.","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"The user id. 0 for current user.","required":1,"default":null},"lessonattempt":{"class":"external_value","type":"int","allownull":true,"desc":"The attempt number.","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"answerpages":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"page":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"The id of this lesson page","required":1,"default":null},"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"The id of the lesson this page belongs to","required":1,"default":null},"prevpageid":{"class":"external_value","type":"int","allownull":true,"desc":"The id of the page before this one","required":1,"default":null},"nextpageid":{"class":"external_value","type":"int","allownull":true,"desc":"The id of the next page in the page sequence","required":1,"default":null},"qtype":{"class":"external_value","type":"int","allownull":true,"desc":"Identifies the page type of this page","required":1,"default":null},"qoption":{"class":"external_value","type":"int","allownull":true,"desc":"Used to record page type specific options","required":1,"default":null},"layout":{"class":"external_value","type":"int","allownull":true,"desc":"Used to record page specific layout selections","required":1,"default":null},"display":{"class":"external_value","type":"int","allownull":true,"desc":"Used to record page specific display selections","required":1,"default":null},"timecreated":{"class":"external_value","type":"int","allownull":true,"desc":"Timestamp for when the page was created","required":1,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Timestamp for when the page was last modified","required":1,"default":null},"title":{"class":"external_value","type":"raw","allownull":true,"desc":"The title of this page","required":2,"default":null},"contents":{"class":"external_value","type":"raw","allownull":true,"desc":"The contents of this page","required":2,"default":null},"contentsformat":{"class":"external_format_value,external_value","type":"int","allownull":true,"desc":"contents format (1 = HTML, 0 = MOODLE, 2 = PLAIN or 4 = MARKDOWN)","required":2,"default":null},"displayinmenublock":{"class":"external_value","type":"bool","allownull":true,"desc":"Toggles display in the left menu block","required":1,"default":null},"type":{"class":"external_value","type":"int","allownull":true,"desc":"The type of the page [question | structure]","required":1,"default":null},"typeid":{"class":"external_value","type":"int","allownull":true,"desc":"The unique identifier for the page type","required":1,"default":null},"typestring":{"class":"external_value","type":"raw","allownull":true,"desc":"The string that describes this page type","required":1,"default":null}},"desc":"Page fields","required":2,"default":null},"title":{"class":"external_value","type":"raw","allownull":true,"desc":"Page title.","required":1,"default":null},"contents":{"class":"external_value","type":"raw","allownull":true,"desc":"Page contents.","required":1,"default":null},"qtype":{"class":"external_value","type":"text","allownull":true,"desc":"Identifies the page type of this page.","required":1,"default":null},"grayout":{"class":"external_value","type":"int","allownull":true,"desc":"If is required to apply a grayout.","required":1,"default":null},"answerdata":{"class":"external_single_structure","keys":{"score":{"class":"external_value","type":"text","allownull":true,"desc":"The score (text version).","required":1,"default":null},"response":{"class":"external_value","type":"raw","allownull":true,"desc":"The response text.","required":1,"default":null},"responseformat":{"class":"external_format_value,external_value","type":"int","allownull":true,"desc":"response. format (1 = HTML, 0 = MOODLE, 2 = PLAIN or 4 = MARKDOWN)","required":1,"default":null},"answers":{"class":"external_multiple_structure","content":{"class":"external_multiple_structure","content":{"class":"external_value","type":"raw","allownull":true,"desc":"Possible answers and info.","required":1,"default":null},"desc":"","required":1,"default":null},"desc":"User answers","required":2,"default":null}},"desc":"Answer data (empty in content pages created in Moodle 1.x).","required":2,"default":null}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null},"userstats":{"class":"external_single_structure","keys":{"grade":{"class":"external_value","type":"float","allownull":true,"desc":"Attempt final grade.","required":1,"default":null},"completed":{"class":"external_value","type":"int","allownull":true,"desc":"Time completed.","required":1,"default":null},"timetotake":{"class":"external_value","type":"int","allownull":true,"desc":"Time taken.","required":1,"default":null},"gradeinfo":{"class":"external_single_structure","keys":{"nquestions":{"class":"external_value","type":"int","allownull":true,"desc":"Number of questions answered","required":1,"default":null},"attempts":{"class":"external_value","type":"int","allownull":true,"desc":"Number of question attempts","required":1,"default":null},"total":{"class":"external_value","type":"float","allownull":true,"desc":"Max points possible","required":1,"default":null},"earned":{"class":"external_value","type":"float","allownull":true,"desc":"Points earned by student","required":1,"default":null},"grade":{"class":"external_value","type":"float","allownull":true,"desc":"Calculated percentage grade","required":1,"default":null},"nmanual":{"class":"external_value","type":"int","allownull":true,"desc":"Number of manually graded questions","required":1,"default":null},"manualpoints":{"class":"external_value","type":"float","allownull":true,"desc":"Point value for manually graded questions","required":1,"default":null}},"desc":"Attempt grade","required":2,"default":null}},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return information about the given user attempt (including answers).","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_user_attempt_grade","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null},"lessonattempt":{"class":"external_value","type":"int","allownull":true,"desc":"lesson attempt number","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"the user id (empty for current user)","required":0,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"grade":{"class":"external_single_structure","keys":{"nquestions":{"class":"external_value","type":"int","allownull":true,"desc":"Number of questions answered","required":1,"default":null},"attempts":{"class":"external_value","type":"int","allownull":true,"desc":"Number of question attempts","required":1,"default":null},"total":{"class":"external_value","type":"float","allownull":true,"desc":"Max points possible","required":1,"default":null},"earned":{"class":"external_value","type":"float","allownull":true,"desc":"Points earned by student","required":1,"default":null},"grade":{"class":"external_value","type":"float","allownull":true,"desc":"Calculated percentage grade","required":1,"default":null},"nmanual":{"class":"external_value","type":"int","allownull":true,"desc":"Number of manually graded questions","required":1,"default":null},"manualpoints":{"class":"external_value","type":"float","allownull":true,"desc":"Point value for manually graded questions","required":1,"default":null}},"desc":"Attempt grade","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return grade information in the attempt for a given user.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_user_grade","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"the user id (empty for current user)","required":0,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"grade":{"class":"external_value","type":"float","allownull":true,"desc":"The lesson final raw grade","required":1,"default":null},"formattedgrade":{"class":"external_value","type":"raw","allownull":true,"desc":"The lesson final grade formatted","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return the final grade in the lesson for the given user.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_user_timers","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"the user id (empty for current user)","required":0,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"timers":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"int","allownull":true,"desc":"The attempt id","required":1,"default":null},"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"The lesson id","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"The user id","required":1,"default":null},"starttime":{"class":"external_value","type":"int","allownull":true,"desc":"First access time for a new timer session","required":1,"default":null},"lessontime":{"class":"external_value","type":"int","allownull":true,"desc":"Last access time to the lesson during the timer session","required":1,"default":null},"completed":{"class":"external_value","type":"int","allownull":true,"desc":"If the lesson for this timer was completed","required":1,"default":null},"timemodifiedoffline":{"class":"external_value","type":"int","allownull":true,"desc":"Last modified time via webservices.","required":1,"default":null}},"desc":"The timers","required":1,"default":null},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Return the timers in the current lesson for the given user.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_launch_attempt","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null},"password":{"class":"external_value","type":"raw","allownull":true,"desc":"optional password (the lesson may be protected)","required":0,"default":""},"pageid":{"class":"external_value","type":"int","allownull":true,"desc":"page id to continue from (only when continuing an attempt)","required":0,"default":0},"review":{"class":"external_value","type":"bool","allownull":true,"desc":"if we want to review just after finishing","required":0,"default":false}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"messages":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"message":{"class":"external_value","type":"raw","allownull":true,"desc":"Message.","required":1,"default":null},"type":{"class":"external_value","type":"alphanumext","allownull":true,"desc":"Message type: usually a CSS identifier like:\n                                success, info, warning, error, notifyproblem, notifyerror, notifytiny, notifysuccess","required":1,"default":null}},"desc":"The lesson generated messages","required":1,"default":null},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Starts a new attempt or continues an existing one.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_process_page","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null},"pageid":{"class":"external_value","type":"int","allownull":true,"desc":"the page id","required":1,"default":null},"data":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"name":{"class":"external_value","type":"raw","allownull":true,"desc":"data name","required":1,"default":null},"value":{"class":"external_value","type":"raw","allownull":true,"desc":"data value","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"the data to be saved","required":1,"default":null},"password":{"class":"external_value","type":"raw","allownull":true,"desc":"optional password (the lesson may be protected)","required":0,"default":""},"review":{"class":"external_value","type":"bool","allownull":true,"desc":"if we want to review just after finishing (1 hour margin)","required":0,"default":false}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"newpageid":{"class":"external_value","type":"int","allownull":true,"desc":"New page id (if a jump was made).","required":1,"default":null},"inmediatejump":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the page processing redirect directly to anoter page.","required":1,"default":null},"nodefaultresponse":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether there is not a default response.","required":1,"default":null},"feedback":{"class":"external_value","type":"raw","allownull":true,"desc":"The response feedback.","required":1,"default":null},"attemptsremaining":{"class":"external_value","type":"int","allownull":true,"desc":"Number of attempts remaining.","required":1,"default":null},"correctanswer":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the answer is correct.","required":1,"default":null},"noanswer":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether there aren't answers.","required":1,"default":null},"isessayquestion":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether is a essay question.","required":1,"default":null},"maxattemptsreached":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether we reachered the max number of attempts.","required":1,"default":null},"response":{"class":"external_value","type":"raw","allownull":true,"desc":"The response.","required":1,"default":null},"studentanswer":{"class":"external_value","type":"raw","allownull":true,"desc":"The student answer.","required":1,"default":null},"userresponse":{"class":"external_value","type":"raw","allownull":true,"desc":"The user response.","required":1,"default":null},"reviewmode":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the user is reviewing.","required":1,"default":null},"ongoingscore":{"class":"external_value","type":"text","allownull":true,"desc":"The ongoing message.","required":1,"default":null},"progress":{"class":"external_value","type":"int","allownull":true,"desc":"Progress percentage in the lesson.","required":1,"default":null},"displaymenu":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether we should display the menu or not in this page.","required":1,"default":null},"messages":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"message":{"class":"external_value","type":"raw","allownull":true,"desc":"Message.","required":1,"default":null},"type":{"class":"external_value","type":"alphanumext","allownull":true,"desc":"Message type: usually a CSS identifier like:\n                                success, info, warning, error, notifyproblem, notifyerror, notifytiny, notifysuccess","required":1,"default":null}},"desc":"The lesson generated messages","required":1,"default":null},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Processes page responses.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_view_lesson","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"lessonid":{"class":"external_value","type":"int","allownull":true,"desc":"lesson instance id","required":1,"default":null},"password":{"class":"external_value","type":"raw","allownull":true,"desc":"lesson password","required":0,"default":""}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"status":{"class":"external_value","type":"bool","allownull":true,"desc":"status: true if success","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Trigger the course module viewed event and update the module completion status.","type":"write","loginrequired":true,"readonlysession":false}]}
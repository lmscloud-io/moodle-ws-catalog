{"functions":[{"name":"mod_lesson_finish_attempt","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"Lesson instance id.","required":1,"default":null,"type":"int","allownull":true},"password":{"class":"external_value","desc":"Optional password (the lesson may be protected).","required":0,"default":"","type":"raw","allownull":true},"outoftime":{"class":"external_value","desc":"If the user run out of time.","required":0,"default":false,"type":"bool","allownull":true},"review":{"class":"external_value","desc":"If we want to review just after finishing (1 hour margin).","required":0,"default":false,"type":"bool","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"data":{"class":"external_multiple_structure","desc":"The EOL page information data.","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"name":{"class":"external_value","desc":"Data name.","required":1,"default":null,"type":"alphanumext","allownull":true},"value":{"class":"external_value","desc":"Data value.","required":1,"default":null,"type":"raw","allownull":true},"message":{"class":"external_value","desc":"Data message (translated string).","required":1,"default":null,"type":"raw","allownull":true}}}},"messages":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"The lesson generated messages","required":1,"default":null,"keys":{"message":{"class":"external_value","desc":"Message.","required":1,"default":null,"type":"raw","allownull":true},"type":{"class":"external_value","desc":"Message type: usually a CSS identifier like:\n                                success, info, warning, error, notifyproblem, notifyerror, notifytiny, notifysuccess","required":1,"default":null,"type":"alphanumext","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Finishes the current attempt.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_attempts_overview","component":"mod_lesson","capabilities":"mod\/lesson:viewreports","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true},"groupid":{"class":"external_value","desc":"group id, 0 means that the function will determine the user group","required":0,"default":0,"type":"int","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"data":{"class":"external_single_structure","desc":"Attempts overview data (empty for no attemps).","required":2,"default":null,"keys":{"lessonscored":{"class":"external_value","desc":"True if the lesson was scored.","required":1,"default":null,"type":"bool","allownull":true},"numofattempts":{"class":"external_value","desc":"Number of attempts.","required":1,"default":null,"type":"int","allownull":true},"avescore":{"class":"external_value","desc":"Average score.","required":1,"default":null,"type":"float","allownull":true},"highscore":{"class":"external_value","desc":"High score.","required":1,"default":null,"type":"float","allownull":true},"lowscore":{"class":"external_value","desc":"Low score.","required":1,"default":null,"type":"float","allownull":true},"avetime":{"class":"external_value","desc":"Average time (spent in taking the lesson).","required":1,"default":null,"type":"int","allownull":true},"hightime":{"class":"external_value","desc":"High time.","required":1,"default":null,"type":"int","allownull":true},"lowtime":{"class":"external_value","desc":"Low time.","required":1,"default":null,"type":"int","allownull":true},"students":{"class":"external_multiple_structure","desc":"Students data, including attempts.","required":2,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"User id.","required":1,"default":null,"type":"int","allownull":true},"fullname":{"class":"external_value","desc":"User full name.","required":1,"default":null,"type":"text","allownull":true},"bestgrade":{"class":"external_value","desc":"Best grade.","required":1,"default":null,"type":"float","allownull":true},"attempts":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"try":{"class":"external_value","desc":"Attempt number.","required":1,"default":null,"type":"int","allownull":true},"grade":{"class":"external_value","desc":"Attempt grade.","required":1,"default":null,"type":"float","allownull":true},"timestart":{"class":"external_value","desc":"Attempt time started.","required":1,"default":null,"type":"int","allownull":true},"timeend":{"class":"external_value","desc":"Attempt last time continued.","required":1,"default":null,"type":"int","allownull":true},"end":{"class":"external_value","desc":"Attempt time ended.","required":1,"default":null,"type":"int","allownull":true}}}}}}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Get a list of all the attempts made by users in a lesson.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_content_pages_viewed","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true},"lessonattempt":{"class":"external_value","desc":"lesson attempt number","required":1,"default":null,"type":"int","allownull":true},"userid":{"class":"external_value","desc":"the user id (empty for current user)","required":0,"default":null,"type":"int","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"pages":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"The content pages viewed.","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"The attempt id.","required":1,"default":null,"type":"int","allownull":true},"lessonid":{"class":"external_value","desc":"The lesson id.","required":1,"default":null,"type":"int","allownull":true},"pageid":{"class":"external_value","desc":"The page id.","required":1,"default":null,"type":"int","allownull":true},"userid":{"class":"external_value","desc":"The user who viewed the page.","required":1,"default":null,"type":"int","allownull":true},"retry":{"class":"external_value","desc":"The lesson attempt number.","required":1,"default":null,"type":"int","allownull":true},"flag":{"class":"external_value","desc":"1 if the next page was calculated randomly.","required":1,"default":null,"type":"int","allownull":true},"timeseen":{"class":"external_value","desc":"The time the page was seen.","required":1,"default":null,"type":"int","allownull":true},"nextpageid":{"class":"external_value","desc":"The next page chosen id.","required":1,"default":null,"type":"int","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Return the list of content pages viewed by a user during a lesson attempt.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_lesson","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true},"password":{"class":"external_value","desc":"lesson password","required":0,"default":"","type":"raw","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"lesson":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Standard Moodle primary key.","required":1,"default":null,"type":"int","allownull":false},"course":{"class":"external_value","desc":"Foreign key reference to the course this lesson is part of.","required":1,"default":null,"type":"int","allownull":false},"coursemodule":{"class":"external_value","desc":"Course module id.","required":1,"default":null,"type":"int","allownull":false},"name":{"class":"external_value","desc":"Lesson name.","required":1,"default":null,"type":"raw","allownull":false},"intro":{"class":"external_value","desc":"Lesson introduction text.","required":2,"default":null,"type":"raw","allownull":false},"introformat":{"class":"external_format_value,external_value","desc":"intro format (1 = HTML, 0 = MOODLE, 2 = PLAIN, or 4 = MARKDOWN)","required":0,"default":"0","type":"int","allownull":true},"lang":{"class":"external_value","desc":"Forced activity language","required":1,"default":null,"type":"lang","allownull":true,"enum":["en"]},"practice":{"class":"external_value","desc":"Practice lesson?","required":2,"default":null,"type":"bool","allownull":false},"modattempts":{"class":"external_value","desc":"Allow student review?","required":2,"default":null,"type":"bool","allownull":false},"usepassword":{"class":"external_value","desc":"Password protected lesson?","required":2,"default":null,"type":"bool","allownull":false},"password":{"class":"external_value","desc":"Password","required":2,"default":null,"type":"raw","allownull":false},"dependency":{"class":"external_value","desc":"Dependent on (another lesson id)","required":2,"default":null,"type":"int","allownull":false},"conditions":{"class":"external_value","desc":"Conditions to enable the lesson","required":2,"default":null,"type":"raw","allownull":false},"grade":{"class":"external_value","desc":"The total that the grade is scaled to be out of","required":2,"default":null,"type":"int","allownull":false},"custom":{"class":"external_value","desc":"Custom scoring?","required":2,"default":null,"type":"bool","allownull":false},"ongoing":{"class":"external_value","desc":"Display ongoing score?","required":2,"default":null,"type":"bool","allownull":false},"usemaxgrade":{"class":"external_value","desc":"How to calculate the final grade","required":2,"default":null,"type":"int","allownull":false},"maxanswers":{"class":"external_value","desc":"Maximum answers per page","required":2,"default":null,"type":"int","allownull":false},"maxattempts":{"class":"external_value","desc":"Maximum attempts","required":2,"default":null,"type":"int","allownull":false},"review":{"class":"external_value","desc":"Provide option to try a question again","required":2,"default":null,"type":"bool","allownull":false},"nextpagedefault":{"class":"external_value","desc":"Action for a correct answer","required":2,"default":null,"type":"int","allownull":false},"feedback":{"class":"external_value","desc":"Display default feedback","required":2,"default":null,"type":"bool","allownull":false},"minquestions":{"class":"external_value","desc":"Minimum number of questions","required":2,"default":null,"type":"int","allownull":false},"maxpages":{"class":"external_value","desc":"Number of pages to show","required":2,"default":null,"type":"int","allownull":false},"timelimit":{"class":"external_value","desc":"Time limit","required":2,"default":null,"type":"int","allownull":false},"retake":{"class":"external_value","desc":"Re-takes allowed","required":2,"default":null,"type":"bool","allownull":false},"activitylink":{"class":"external_value","desc":"Id of the next activity to be linked once the lesson is completed","required":2,"default":null,"type":"int","allownull":false},"mediafile":{"class":"external_value","desc":"Local file path or full external URL","required":2,"default":null,"type":"raw","allownull":false},"mediaheight":{"class":"external_value","desc":"Popup for media file height","required":2,"default":null,"type":"int","allownull":false},"mediawidth":{"class":"external_value","desc":"Popup for media with","required":2,"default":null,"type":"int","allownull":false},"mediaclose":{"class":"external_value","desc":"Display a close button in the popup?","required":2,"default":null,"type":"int","allownull":false},"slideshow":{"class":"external_value","desc":"Display lesson as slideshow","required":2,"default":null,"type":"bool","allownull":false},"width":{"class":"external_value","desc":"Slideshow width","required":2,"default":null,"type":"int","allownull":false},"height":{"class":"external_value","desc":"Slideshow height","required":2,"default":null,"type":"int","allownull":false},"bgcolor":{"class":"external_value","desc":"Slideshow bgcolor","required":2,"default":null,"type":"raw","allownull":false},"displayleft":{"class":"external_value","desc":"Display left pages menu?","required":2,"default":null,"type":"bool","allownull":false},"displayleftif":{"class":"external_value","desc":"Minimum grade to display menu","required":2,"default":null,"type":"int","allownull":false},"progressbar":{"class":"external_value","desc":"Display progress bar?","required":2,"default":null,"type":"bool","allownull":false},"available":{"class":"external_value","desc":"Available from","required":2,"default":null,"type":"int","allownull":false},"deadline":{"class":"external_value","desc":"Available until","required":2,"default":null,"type":"int","allownull":false},"timemodified":{"class":"external_value","desc":"Last time settings were updated","required":2,"default":null,"type":"int","allownull":false},"completionendreached":{"class":"external_value","desc":"Require end reached for completion?","required":2,"default":null,"type":"int","allownull":false},"completiontimespent":{"class":"external_value","desc":"Student must do this activity at least for","required":2,"default":null,"type":"int","allownull":false},"allowofflineattempts":{"class":"external_value","desc":"Whether to allow the lesson to be attempted offline in the mobile app","required":1,"default":null,"type":"bool","allownull":false},"introfiles":{"class":"external_multiple_structure","desc":"introfiles","required":2,"default":null,"content":{"class":"external_single_structure","desc":"","required":2,"default":null,"keys":{"filename":{"class":"external_value","desc":"File name.","required":2,"default":null,"type":"file","allownull":false},"filepath":{"class":"external_value","desc":"File path.","required":2,"default":null,"type":"path","allownull":false},"filesize":{"class":"external_value","desc":"File size.","required":2,"default":null,"type":"int","allownull":false},"fileurl":{"class":"external_value","desc":"Downloadable file url.","required":2,"default":null,"type":"url","allownull":false},"timemodified":{"class":"external_value","desc":"Time modified.","required":2,"default":null,"type":"int","allownull":false},"mimetype":{"class":"external_value","desc":"File mime type.","required":2,"default":null,"type":"raw","allownull":false},"isexternalfile":{"class":"external_value","desc":"Whether is an external file.","required":2,"default":null,"type":"bool","allownull":false},"repositorytype":{"class":"external_value","desc":"The repository type for the external files.","required":2,"default":null,"type":"plugin","allownull":true}}}},"mediafiles":{"class":"external_multiple_structure","desc":"mediafiles","required":2,"default":null,"content":{"class":"external_single_structure","desc":"","required":2,"default":null,"keys":{"filename":{"class":"external_value","desc":"File name.","required":2,"default":null,"type":"file","allownull":false},"filepath":{"class":"external_value","desc":"File path.","required":2,"default":null,"type":"path","allownull":false},"filesize":{"class":"external_value","desc":"File size.","required":2,"default":null,"type":"int","allownull":false},"fileurl":{"class":"external_value","desc":"Downloadable file url.","required":2,"default":null,"type":"url","allownull":false},"timemodified":{"class":"external_value","desc":"Time modified.","required":2,"default":null,"type":"int","allownull":false},"mimetype":{"class":"external_value","desc":"File mime type.","required":2,"default":null,"type":"raw","allownull":false},"isexternalfile":{"class":"external_value","desc":"Whether is an external file.","required":2,"default":null,"type":"bool","allownull":false},"repositorytype":{"class":"external_value","desc":"The repository type for the external files.","required":2,"default":null,"type":"plugin","allownull":true}}}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Return information of a given lesson.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_lesson_access_information","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"canmanage":{"class":"external_value","desc":"Whether the user can manage the lesson or not.","required":1,"default":null,"type":"bool","allownull":true},"cangrade":{"class":"external_value","desc":"Whether the user can grade the lesson or not.","required":1,"default":null,"type":"bool","allownull":true},"canviewreports":{"class":"external_value","desc":"Whether the user can view the lesson reports or not.","required":1,"default":null,"type":"bool","allownull":true},"reviewmode":{"class":"external_value","desc":"Whether the lesson is in review mode for the current user.","required":1,"default":null,"type":"bool","allownull":true},"attemptscount":{"class":"external_value","desc":"The number of attempts done by the user.","required":1,"default":null,"type":"int","allownull":true},"lastpageseen":{"class":"external_value","desc":"The last page seen id.","required":1,"default":null,"type":"int","allownull":true},"leftduringtimedsession":{"class":"external_value","desc":"Whether the user left during a timed session.","required":1,"default":null,"type":"bool","allownull":true},"firstpageid":{"class":"external_value","desc":"The lesson first page id.","required":1,"default":null,"type":"int","allownull":true},"preventaccessreasons":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"The reasons why the user cannot attempt the lesson","required":1,"default":null,"keys":{"reason":{"class":"external_value","desc":"Reason lang string code","required":1,"default":null,"type":"alphanumext","allownull":true},"data":{"class":"external_value","desc":"Additional data","required":1,"default":null,"type":"raw","allownull":true},"message":{"class":"external_value","desc":"Complete html message","required":1,"default":null,"type":"raw","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Return access information for a given lesson.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_lessons_by_courses","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"courseids":{"class":"external_multiple_structure","desc":"Array of course ids","required":0,"default":[],"content":{"class":"external_value","desc":"course id","required":1,"default":null,"type":"int","allownull":true}}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"lessons":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Standard Moodle primary key.","required":1,"default":null,"type":"int","allownull":false},"course":{"class":"external_value","desc":"Foreign key reference to the course this lesson is part of.","required":1,"default":null,"type":"int","allownull":false},"coursemodule":{"class":"external_value","desc":"Course module id.","required":1,"default":null,"type":"int","allownull":false},"name":{"class":"external_value","desc":"Lesson name.","required":1,"default":null,"type":"raw","allownull":false},"intro":{"class":"external_value","desc":"Lesson introduction text.","required":2,"default":null,"type":"raw","allownull":false},"introformat":{"class":"external_format_value,external_value","desc":"intro format (1 = HTML, 0 = MOODLE, 2 = PLAIN, or 4 = MARKDOWN)","required":0,"default":"0","type":"int","allownull":true},"lang":{"class":"external_value","desc":"Forced activity language","required":1,"default":null,"type":"lang","allownull":true,"enum":["en"]},"practice":{"class":"external_value","desc":"Practice lesson?","required":2,"default":null,"type":"bool","allownull":false},"modattempts":{"class":"external_value","desc":"Allow student review?","required":2,"default":null,"type":"bool","allownull":false},"usepassword":{"class":"external_value","desc":"Password protected lesson?","required":2,"default":null,"type":"bool","allownull":false},"password":{"class":"external_value","desc":"Password","required":2,"default":null,"type":"raw","allownull":false},"dependency":{"class":"external_value","desc":"Dependent on (another lesson id)","required":2,"default":null,"type":"int","allownull":false},"conditions":{"class":"external_value","desc":"Conditions to enable the lesson","required":2,"default":null,"type":"raw","allownull":false},"grade":{"class":"external_value","desc":"The total that the grade is scaled to be out of","required":2,"default":null,"type":"int","allownull":false},"custom":{"class":"external_value","desc":"Custom scoring?","required":2,"default":null,"type":"bool","allownull":false},"ongoing":{"class":"external_value","desc":"Display ongoing score?","required":2,"default":null,"type":"bool","allownull":false},"usemaxgrade":{"class":"external_value","desc":"How to calculate the final grade","required":2,"default":null,"type":"int","allownull":false},"maxanswers":{"class":"external_value","desc":"Maximum answers per page","required":2,"default":null,"type":"int","allownull":false},"maxattempts":{"class":"external_value","desc":"Maximum attempts","required":2,"default":null,"type":"int","allownull":false},"review":{"class":"external_value","desc":"Provide option to try a question again","required":2,"default":null,"type":"bool","allownull":false},"nextpagedefault":{"class":"external_value","desc":"Action for a correct answer","required":2,"default":null,"type":"int","allownull":false},"feedback":{"class":"external_value","desc":"Display default feedback","required":2,"default":null,"type":"bool","allownull":false},"minquestions":{"class":"external_value","desc":"Minimum number of questions","required":2,"default":null,"type":"int","allownull":false},"maxpages":{"class":"external_value","desc":"Number of pages to show","required":2,"default":null,"type":"int","allownull":false},"timelimit":{"class":"external_value","desc":"Time limit","required":2,"default":null,"type":"int","allownull":false},"retake":{"class":"external_value","desc":"Re-takes allowed","required":2,"default":null,"type":"bool","allownull":false},"activitylink":{"class":"external_value","desc":"Id of the next activity to be linked once the lesson is completed","required":2,"default":null,"type":"int","allownull":false},"mediafile":{"class":"external_value","desc":"Local file path or full external URL","required":2,"default":null,"type":"raw","allownull":false},"mediaheight":{"class":"external_value","desc":"Popup for media file height","required":2,"default":null,"type":"int","allownull":false},"mediawidth":{"class":"external_value","desc":"Popup for media with","required":2,"default":null,"type":"int","allownull":false},"mediaclose":{"class":"external_value","desc":"Display a close button in the popup?","required":2,"default":null,"type":"int","allownull":false},"slideshow":{"class":"external_value","desc":"Display lesson as slideshow","required":2,"default":null,"type":"bool","allownull":false},"width":{"class":"external_value","desc":"Slideshow width","required":2,"default":null,"type":"int","allownull":false},"height":{"class":"external_value","desc":"Slideshow height","required":2,"default":null,"type":"int","allownull":false},"bgcolor":{"class":"external_value","desc":"Slideshow bgcolor","required":2,"default":null,"type":"raw","allownull":false},"displayleft":{"class":"external_value","desc":"Display left pages menu?","required":2,"default":null,"type":"bool","allownull":false},"displayleftif":{"class":"external_value","desc":"Minimum grade to display menu","required":2,"default":null,"type":"int","allownull":false},"progressbar":{"class":"external_value","desc":"Display progress bar?","required":2,"default":null,"type":"bool","allownull":false},"available":{"class":"external_value","desc":"Available from","required":2,"default":null,"type":"int","allownull":false},"deadline":{"class":"external_value","desc":"Available until","required":2,"default":null,"type":"int","allownull":false},"timemodified":{"class":"external_value","desc":"Last time settings were updated","required":2,"default":null,"type":"int","allownull":false},"completionendreached":{"class":"external_value","desc":"Require end reached for completion?","required":2,"default":null,"type":"int","allownull":false},"completiontimespent":{"class":"external_value","desc":"Student must do this activity at least for","required":2,"default":null,"type":"int","allownull":false},"allowofflineattempts":{"class":"external_value","desc":"Whether to allow the lesson to be attempted offline in the mobile app","required":1,"default":null,"type":"bool","allownull":false},"introfiles":{"class":"external_multiple_structure","desc":"introfiles","required":2,"default":null,"content":{"class":"external_single_structure","desc":"","required":2,"default":null,"keys":{"filename":{"class":"external_value","desc":"File name.","required":2,"default":null,"type":"file","allownull":false},"filepath":{"class":"external_value","desc":"File path.","required":2,"default":null,"type":"path","allownull":false},"filesize":{"class":"external_value","desc":"File size.","required":2,"default":null,"type":"int","allownull":false},"fileurl":{"class":"external_value","desc":"Downloadable file url.","required":2,"default":null,"type":"url","allownull":false},"timemodified":{"class":"external_value","desc":"Time modified.","required":2,"default":null,"type":"int","allownull":false},"mimetype":{"class":"external_value","desc":"File mime type.","required":2,"default":null,"type":"raw","allownull":false},"isexternalfile":{"class":"external_value","desc":"Whether is an external file.","required":2,"default":null,"type":"bool","allownull":false},"repositorytype":{"class":"external_value","desc":"The repository type for the external files.","required":2,"default":null,"type":"plugin","allownull":true}}}},"mediafiles":{"class":"external_multiple_structure","desc":"mediafiles","required":2,"default":null,"content":{"class":"external_single_structure","desc":"","required":2,"default":null,"keys":{"filename":{"class":"external_value","desc":"File name.","required":2,"default":null,"type":"file","allownull":false},"filepath":{"class":"external_value","desc":"File path.","required":2,"default":null,"type":"path","allownull":false},"filesize":{"class":"external_value","desc":"File size.","required":2,"default":null,"type":"int","allownull":false},"fileurl":{"class":"external_value","desc":"Downloadable file url.","required":2,"default":null,"type":"url","allownull":false},"timemodified":{"class":"external_value","desc":"Time modified.","required":2,"default":null,"type":"int","allownull":false},"mimetype":{"class":"external_value","desc":"File mime type.","required":2,"default":null,"type":"raw","allownull":false},"isexternalfile":{"class":"external_value","desc":"Whether is an external file.","required":2,"default":null,"type":"bool","allownull":false},"repositorytype":{"class":"external_value","desc":"The repository type for the external files.","required":2,"default":null,"type":"plugin","allownull":true}}}}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Returns a list of lessons in a provided list of courses,\n                            if no list is provided all lessons that the user can view will be returned.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_page_data","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true},"pageid":{"class":"external_value","desc":"the page id","required":1,"default":null,"type":"int","allownull":true},"password":{"class":"external_value","desc":"optional password (the lesson may be protected)","required":0,"default":"","type":"raw","allownull":true},"review":{"class":"external_value","desc":"if we want to review just after finishing (1 hour margin)","required":0,"default":false,"type":"bool","allownull":true},"returncontents":{"class":"external_value","desc":"if we must return the complete page contents once rendered","required":0,"default":false,"type":"bool","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"page":{"class":"external_single_structure","desc":"Page fields","required":2,"default":null,"keys":{"id":{"class":"external_value","desc":"The id of this lesson page","required":1,"default":null,"type":"int","allownull":true},"lessonid":{"class":"external_value","desc":"The id of the lesson this page belongs to","required":1,"default":null,"type":"int","allownull":true},"prevpageid":{"class":"external_value","desc":"The id of the page before this one","required":1,"default":null,"type":"int","allownull":true},"nextpageid":{"class":"external_value","desc":"The id of the next page in the page sequence","required":1,"default":null,"type":"int","allownull":true},"qtype":{"class":"external_value","desc":"Identifies the page type of this page","required":1,"default":null,"type":"int","allownull":true},"qoption":{"class":"external_value","desc":"Used to record page type specific options","required":1,"default":null,"type":"int","allownull":true},"layout":{"class":"external_value","desc":"Used to record page specific layout selections","required":1,"default":null,"type":"int","allownull":true},"display":{"class":"external_value","desc":"Used to record page specific display selections","required":1,"default":null,"type":"int","allownull":true},"timecreated":{"class":"external_value","desc":"Timestamp for when the page was created","required":1,"default":null,"type":"int","allownull":true},"timemodified":{"class":"external_value","desc":"Timestamp for when the page was last modified","required":1,"default":null,"type":"int","allownull":true},"title":{"class":"external_value","desc":"The title of this page","required":2,"default":null,"type":"raw","allownull":true},"contents":{"class":"external_value","desc":"The contents of this page","required":2,"default":null,"type":"raw","allownull":true},"contentsformat":{"class":"external_format_value,external_value","desc":"contents format (1 = HTML, 0 = MOODLE, 2 = PLAIN, or 4 = MARKDOWN)","required":2,"default":null,"type":"int","allownull":true},"displayinmenublock":{"class":"external_value","desc":"Toggles display in the left menu block","required":1,"default":null,"type":"bool","allownull":true},"type":{"class":"external_value","desc":"The type of the page [question | structure]","required":1,"default":null,"type":"int","allownull":true},"typeid":{"class":"external_value","desc":"The unique identifier for the page type","required":1,"default":null,"type":"int","allownull":true},"typestring":{"class":"external_value","desc":"The string that describes this page type","required":1,"default":null,"type":"raw","allownull":true}}},"newpageid":{"class":"external_value","desc":"New page id (if a jump was made)","required":1,"default":null,"type":"int","allownull":true},"pagecontent":{"class":"external_value","desc":"Page html content","required":2,"default":null,"type":"raw","allownull":true},"ongoingscore":{"class":"external_value","desc":"The ongoing score message","required":1,"default":null,"type":"text","allownull":true},"progress":{"class":"external_value","desc":"Progress percentage in the lesson","required":1,"default":null,"type":"int","allownull":true},"contentfiles":{"class":"external_files,external_multiple_structure","desc":"List of files.","required":1,"default":null,"content":{"class":"external_single_structure","desc":"File.","required":1,"default":null,"keys":{"filename":{"class":"external_value","desc":"File name.","required":2,"default":null,"type":"file","allownull":true},"filepath":{"class":"external_value","desc":"File path.","required":2,"default":null,"type":"path","allownull":true},"filesize":{"class":"external_value","desc":"File size.","required":2,"default":null,"type":"int","allownull":true},"fileurl":{"class":"external_value","desc":"Downloadable file url.","required":2,"default":null,"type":"url","allownull":true},"timemodified":{"class":"external_value","desc":"Time modified.","required":2,"default":null,"type":"int","allownull":true},"mimetype":{"class":"external_value","desc":"File mime type.","required":2,"default":null,"type":"raw","allownull":true},"isexternalfile":{"class":"external_value","desc":"Whether is an external file.","required":2,"default":null,"type":"bool","allownull":true},"repositorytype":{"class":"external_value","desc":"The repository type for external files.","required":2,"default":null,"type":"plugin","allownull":true}}}},"answers":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"The page answers","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"The ID of this answer in the database","required":1,"default":null,"type":"int","allownull":true},"answerfiles":{"class":"external_files,external_multiple_structure","desc":"List of files.","required":1,"default":null,"content":{"class":"external_single_structure","desc":"File.","required":1,"default":null,"keys":{"filename":{"class":"external_value","desc":"File name.","required":2,"default":null,"type":"file","allownull":true},"filepath":{"class":"external_value","desc":"File path.","required":2,"default":null,"type":"path","allownull":true},"filesize":{"class":"external_value","desc":"File size.","required":2,"default":null,"type":"int","allownull":true},"fileurl":{"class":"external_value","desc":"Downloadable file url.","required":2,"default":null,"type":"url","allownull":true},"timemodified":{"class":"external_value","desc":"Time modified.","required":2,"default":null,"type":"int","allownull":true},"mimetype":{"class":"external_value","desc":"File mime type.","required":2,"default":null,"type":"raw","allownull":true},"isexternalfile":{"class":"external_value","desc":"Whether is an external file.","required":2,"default":null,"type":"bool","allownull":true},"repositorytype":{"class":"external_value","desc":"The repository type for external files.","required":2,"default":null,"type":"plugin","allownull":true}}}},"responsefiles":{"class":"external_files,external_multiple_structure","desc":"List of files.","required":1,"default":null,"content":{"class":"external_single_structure","desc":"File.","required":1,"default":null,"keys":{"filename":{"class":"external_value","desc":"File name.","required":2,"default":null,"type":"file","allownull":true},"filepath":{"class":"external_value","desc":"File path.","required":2,"default":null,"type":"path","allownull":true},"filesize":{"class":"external_value","desc":"File size.","required":2,"default":null,"type":"int","allownull":true},"fileurl":{"class":"external_value","desc":"Downloadable file url.","required":2,"default":null,"type":"url","allownull":true},"timemodified":{"class":"external_value","desc":"Time modified.","required":2,"default":null,"type":"int","allownull":true},"mimetype":{"class":"external_value","desc":"File mime type.","required":2,"default":null,"type":"raw","allownull":true},"isexternalfile":{"class":"external_value","desc":"Whether is an external file.","required":2,"default":null,"type":"bool","allownull":true},"repositorytype":{"class":"external_value","desc":"The repository type for external files.","required":2,"default":null,"type":"plugin","allownull":true}}}},"jumpto":{"class":"external_value","desc":"Identifies where the user goes upon completing a page with this answer","required":2,"default":null,"type":"int","allownull":true},"grade":{"class":"external_value","desc":"The grade this answer is worth","required":2,"default":null,"type":"int","allownull":true},"score":{"class":"external_value","desc":"The score this answer will give","required":2,"default":null,"type":"int","allownull":true},"flags":{"class":"external_value","desc":"Used to store options for the answer","required":2,"default":null,"type":"int","allownull":true},"timecreated":{"class":"external_value","desc":"A timestamp of when the answer was created","required":2,"default":null,"type":"int","allownull":true},"timemodified":{"class":"external_value","desc":"A timestamp of when the answer was modified","required":2,"default":null,"type":"int","allownull":true},"answer":{"class":"external_value","desc":"Possible answer text","required":2,"default":null,"type":"raw","allownull":true},"answerformat":{"class":"external_format_value,external_value","desc":"answer format (1 = HTML, 0 = MOODLE, 2 = PLAIN, or 4 = MARKDOWN)","required":2,"default":null,"type":"int","allownull":true},"response":{"class":"external_value","desc":"Response text for the answer","required":2,"default":null,"type":"raw","allownull":true},"responseformat":{"class":"external_format_value,external_value","desc":"response format (1 = HTML, 0 = MOODLE, 2 = PLAIN, or 4 = MARKDOWN)","required":2,"default":null,"type":"int","allownull":true}}}},"messages":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"The lesson generated messages","required":1,"default":null,"keys":{"message":{"class":"external_value","desc":"Message.","required":1,"default":null,"type":"raw","allownull":true},"type":{"class":"external_value","desc":"Message type: usually a CSS identifier like:\n                                success, info, warning, error, notifyproblem, notifyerror, notifytiny, notifysuccess","required":1,"default":null,"type":"alphanumext","allownull":true}}}},"displaymenu":{"class":"external_value","desc":"Whether we should display the menu or not in this page.","required":1,"default":null,"type":"bool","allownull":true},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Return information of a given page, including its contents.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_pages","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true},"password":{"class":"external_value","desc":"optional password (the lesson may be protected)","required":0,"default":"","type":"raw","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"pages":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"The lesson pages","required":1,"default":null,"keys":{"page":{"class":"external_single_structure","desc":"Page fields","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"The id of this lesson page","required":1,"default":null,"type":"int","allownull":true},"lessonid":{"class":"external_value","desc":"The id of the lesson this page belongs to","required":1,"default":null,"type":"int","allownull":true},"prevpageid":{"class":"external_value","desc":"The id of the page before this one","required":1,"default":null,"type":"int","allownull":true},"nextpageid":{"class":"external_value","desc":"The id of the next page in the page sequence","required":1,"default":null,"type":"int","allownull":true},"qtype":{"class":"external_value","desc":"Identifies the page type of this page","required":1,"default":null,"type":"int","allownull":true},"qoption":{"class":"external_value","desc":"Used to record page type specific options","required":1,"default":null,"type":"int","allownull":true},"layout":{"class":"external_value","desc":"Used to record page specific layout selections","required":1,"default":null,"type":"int","allownull":true},"display":{"class":"external_value","desc":"Used to record page specific display selections","required":1,"default":null,"type":"int","allownull":true},"timecreated":{"class":"external_value","desc":"Timestamp for when the page was created","required":1,"default":null,"type":"int","allownull":true},"timemodified":{"class":"external_value","desc":"Timestamp for when the page was last modified","required":1,"default":null,"type":"int","allownull":true},"title":{"class":"external_value","desc":"The title of this page","required":2,"default":null,"type":"raw","allownull":true},"contents":{"class":"external_value","desc":"The contents of this page","required":2,"default":null,"type":"raw","allownull":true},"contentsformat":{"class":"external_format_value,external_value","desc":"contents format (1 = HTML, 0 = MOODLE, 2 = PLAIN, or 4 = MARKDOWN)","required":2,"default":null,"type":"int","allownull":true},"displayinmenublock":{"class":"external_value","desc":"Toggles display in the left menu block","required":1,"default":null,"type":"bool","allownull":true},"type":{"class":"external_value","desc":"The type of the page [question | structure]","required":1,"default":null,"type":"int","allownull":true},"typeid":{"class":"external_value","desc":"The unique identifier for the page type","required":1,"default":null,"type":"int","allownull":true},"typestring":{"class":"external_value","desc":"The string that describes this page type","required":1,"default":null,"type":"raw","allownull":true}}},"answerids":{"class":"external_multiple_structure","desc":"List of answers ids (empty for content pages in  Moodle 1.9)","required":1,"default":null,"content":{"class":"external_value","desc":"Answer id","required":1,"default":null,"type":"int","allownull":true}},"jumps":{"class":"external_multiple_structure","desc":"List of possible page jumps","required":1,"default":null,"content":{"class":"external_value","desc":"Page to jump id","required":1,"default":null,"type":"int","allownull":true}},"filescount":{"class":"external_value","desc":"The total number of files attached to the page","required":1,"default":null,"type":"int","allownull":true},"filessizetotal":{"class":"external_value","desc":"The total size of the files","required":1,"default":null,"type":"int","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Return the list of pages in a lesson (based on the user permissions).","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_pages_possible_jumps","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"jumps":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"Jump for a page answer","required":1,"default":null,"keys":{"pageid":{"class":"external_value","desc":"The page id","required":1,"default":null,"type":"int","allownull":true},"answerid":{"class":"external_value","desc":"The answer id","required":1,"default":null,"type":"int","allownull":true},"jumpto":{"class":"external_value","desc":"The jump (page id or type of jump)","required":1,"default":null,"type":"int","allownull":true},"calculatedjump":{"class":"external_value","desc":"The real page id (or EOL) to jump","required":1,"default":null,"type":"int","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Return all the possible jumps for the pages in a given lesson.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_questions_attempts","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true},"attempt":{"class":"external_value","desc":"lesson attempt number","required":1,"default":null,"type":"int","allownull":true},"correct":{"class":"external_value","desc":"only fetch correct attempts","required":0,"default":false,"type":"bool","allownull":true},"pageid":{"class":"external_value","desc":"only fetch attempts at the given page","required":0,"default":null,"type":"int","allownull":true},"userid":{"class":"external_value","desc":"only fetch attempts of the given user","required":0,"default":null,"type":"int","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"attempts":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"The question page attempts","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"The attempt id","required":1,"default":null,"type":"int","allownull":true},"lessonid":{"class":"external_value","desc":"The attempt lessonid","required":1,"default":null,"type":"int","allownull":true},"pageid":{"class":"external_value","desc":"The attempt pageid","required":1,"default":null,"type":"int","allownull":true},"userid":{"class":"external_value","desc":"The user who did the attempt","required":1,"default":null,"type":"int","allownull":true},"answerid":{"class":"external_value","desc":"The attempt answerid","required":1,"default":null,"type":"int","allownull":true},"retry":{"class":"external_value","desc":"The lesson attempt number","required":1,"default":null,"type":"int","allownull":true},"correct":{"class":"external_value","desc":"If it was the correct answer","required":1,"default":null,"type":"int","allownull":true},"useranswer":{"class":"external_value","desc":"The complete user answer","required":1,"default":null,"type":"raw","allownull":true},"timeseen":{"class":"external_value","desc":"The time the question was seen","required":1,"default":null,"type":"int","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Return the list of questions attempts in a given lesson.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_user_attempt","component":"mod_lesson","capabilities":"mod\/lesson:viewreports","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"Lesson instance id.","required":1,"default":null,"type":"int","allownull":true},"userid":{"class":"external_value","desc":"The user id. 0 for current user.","required":1,"default":null,"type":"int","allownull":true},"lessonattempt":{"class":"external_value","desc":"The attempt number.","required":1,"default":null,"type":"int","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"answerpages":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"page":{"class":"external_single_structure","desc":"Page fields","required":2,"default":null,"keys":{"id":{"class":"external_value","desc":"The id of this lesson page","required":1,"default":null,"type":"int","allownull":true},"lessonid":{"class":"external_value","desc":"The id of the lesson this page belongs to","required":1,"default":null,"type":"int","allownull":true},"prevpageid":{"class":"external_value","desc":"The id of the page before this one","required":1,"default":null,"type":"int","allownull":true},"nextpageid":{"class":"external_value","desc":"The id of the next page in the page sequence","required":1,"default":null,"type":"int","allownull":true},"qtype":{"class":"external_value","desc":"Identifies the page type of this page","required":1,"default":null,"type":"int","allownull":true},"qoption":{"class":"external_value","desc":"Used to record page type specific options","required":1,"default":null,"type":"int","allownull":true},"layout":{"class":"external_value","desc":"Used to record page specific layout selections","required":1,"default":null,"type":"int","allownull":true},"display":{"class":"external_value","desc":"Used to record page specific display selections","required":1,"default":null,"type":"int","allownull":true},"timecreated":{"class":"external_value","desc":"Timestamp for when the page was created","required":1,"default":null,"type":"int","allownull":true},"timemodified":{"class":"external_value","desc":"Timestamp for when the page was last modified","required":1,"default":null,"type":"int","allownull":true},"title":{"class":"external_value","desc":"The title of this page","required":2,"default":null,"type":"raw","allownull":true},"contents":{"class":"external_value","desc":"The contents of this page","required":2,"default":null,"type":"raw","allownull":true},"contentsformat":{"class":"external_format_value,external_value","desc":"contents format (1 = HTML, 0 = MOODLE, 2 = PLAIN, or 4 = MARKDOWN)","required":2,"default":null,"type":"int","allownull":true},"displayinmenublock":{"class":"external_value","desc":"Toggles display in the left menu block","required":1,"default":null,"type":"bool","allownull":true},"type":{"class":"external_value","desc":"The type of the page [question | structure]","required":1,"default":null,"type":"int","allownull":true},"typeid":{"class":"external_value","desc":"The unique identifier for the page type","required":1,"default":null,"type":"int","allownull":true},"typestring":{"class":"external_value","desc":"The string that describes this page type","required":1,"default":null,"type":"raw","allownull":true}}},"title":{"class":"external_value","desc":"Page title.","required":1,"default":null,"type":"raw","allownull":true},"contents":{"class":"external_value","desc":"Page contents.","required":1,"default":null,"type":"raw","allownull":true},"qtype":{"class":"external_value","desc":"Identifies the page type of this page.","required":1,"default":null,"type":"text","allownull":true},"grayout":{"class":"external_value","desc":"If is required to apply a grayout.","required":1,"default":null,"type":"int","allownull":true},"answerdata":{"class":"external_single_structure","desc":"Answer data (empty in content pages created in Moodle 1.x).","required":2,"default":null,"keys":{"score":{"class":"external_value","desc":"The score (text version).","required":1,"default":null,"type":"text","allownull":true},"response":{"class":"external_value","desc":"The response text.","required":1,"default":null,"type":"raw","allownull":true},"responseformat":{"class":"external_format_value,external_value","desc":"response. format (1 = HTML, 0 = MOODLE, 2 = PLAIN, or 4 = MARKDOWN)","required":1,"default":null,"type":"int","allownull":true},"answers":{"class":"external_multiple_structure","desc":"User answers","required":2,"default":null,"content":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_value","desc":"Possible answers and info.","required":1,"default":null,"type":"raw","allownull":true}}}}}}}},"userstats":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"grade":{"class":"external_value","desc":"Attempt final grade.","required":1,"default":null,"type":"float","allownull":true},"completed":{"class":"external_value","desc":"Time completed.","required":1,"default":null,"type":"int","allownull":true},"timetotake":{"class":"external_value","desc":"Time taken.","required":1,"default":null,"type":"int","allownull":true},"gradeinfo":{"class":"external_single_structure","desc":"Attempt grade","required":2,"default":null,"keys":{"nquestions":{"class":"external_value","desc":"Number of questions answered","required":1,"default":null,"type":"int","allownull":true},"attempts":{"class":"external_value","desc":"Number of question attempts","required":1,"default":null,"type":"int","allownull":true},"total":{"class":"external_value","desc":"Max points possible","required":1,"default":null,"type":"float","allownull":true},"earned":{"class":"external_value","desc":"Points earned by student","required":1,"default":null,"type":"float","allownull":true},"grade":{"class":"external_value","desc":"Calculated percentage grade","required":1,"default":null,"type":"float","allownull":true},"nmanual":{"class":"external_value","desc":"Number of manually graded questions","required":1,"default":null,"type":"int","allownull":true},"manualpoints":{"class":"external_value","desc":"Point value for manually graded questions","required":1,"default":null,"type":"float","allownull":true}}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Return information about the given user attempt (including answers).","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_user_attempt_grade","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true},"lessonattempt":{"class":"external_value","desc":"lesson attempt number","required":1,"default":null,"type":"int","allownull":true},"userid":{"class":"external_value","desc":"the user id (empty for current user)","required":0,"default":null,"type":"int","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"grade":{"class":"external_single_structure","desc":"Attempt grade","required":1,"default":null,"keys":{"nquestions":{"class":"external_value","desc":"Number of questions answered","required":1,"default":null,"type":"int","allownull":true},"attempts":{"class":"external_value","desc":"Number of question attempts","required":1,"default":null,"type":"int","allownull":true},"total":{"class":"external_value","desc":"Max points possible","required":1,"default":null,"type":"float","allownull":true},"earned":{"class":"external_value","desc":"Points earned by student","required":1,"default":null,"type":"float","allownull":true},"grade":{"class":"external_value","desc":"Calculated percentage grade","required":1,"default":null,"type":"float","allownull":true},"nmanual":{"class":"external_value","desc":"Number of manually graded questions","required":1,"default":null,"type":"int","allownull":true},"manualpoints":{"class":"external_value","desc":"Point value for manually graded questions","required":1,"default":null,"type":"float","allownull":true}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Return grade information in the attempt for a given user.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_user_grade","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true},"userid":{"class":"external_value","desc":"the user id (empty for current user)","required":0,"default":null,"type":"int","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"grade":{"class":"external_value","desc":"The lesson final raw grade","required":1,"default":null,"type":"float","allownull":true},"formattedgrade":{"class":"external_value","desc":"The lesson final grade formatted","required":1,"default":null,"type":"raw","allownull":true},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Return the final grade in the lesson for the given user.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_get_user_timers","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true},"userid":{"class":"external_value","desc":"the user id (empty for current user)","required":0,"default":null,"type":"int","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"timers":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"The timers","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"The attempt id","required":1,"default":null,"type":"int","allownull":true},"lessonid":{"class":"external_value","desc":"The lesson id","required":1,"default":null,"type":"int","allownull":true},"userid":{"class":"external_value","desc":"The user id","required":1,"default":null,"type":"int","allownull":true},"starttime":{"class":"external_value","desc":"First access time for a new timer session","required":1,"default":null,"type":"int","allownull":true},"lessontime":{"class":"external_value","desc":"Last access time to the lesson during the timer session","required":1,"default":null,"type":"int","allownull":true},"completed":{"class":"external_value","desc":"If the lesson for this timer was completed","required":1,"default":null,"type":"int","allownull":true},"timemodifiedoffline":{"class":"external_value","desc":"Last modified time via webservices.","required":1,"default":null,"type":"int","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Return the timers in the current lesson for the given user.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_launch_attempt","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true},"password":{"class":"external_value","desc":"optional password (the lesson may be protected)","required":0,"default":"","type":"raw","allownull":true},"pageid":{"class":"external_value","desc":"page id to continue from (only when continuing an attempt)","required":0,"default":0,"type":"int","allownull":true},"review":{"class":"external_value","desc":"if we want to review just after finishing","required":0,"default":false,"type":"bool","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"messages":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"The lesson generated messages","required":1,"default":null,"keys":{"message":{"class":"external_value","desc":"Message.","required":1,"default":null,"type":"raw","allownull":true},"type":{"class":"external_value","desc":"Message type: usually a CSS identifier like:\n                                success, info, warning, error, notifyproblem, notifyerror, notifytiny, notifysuccess","required":1,"default":null,"type":"alphanumext","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Starts a new attempt or continues an existing one.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_process_page","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true},"pageid":{"class":"external_value","desc":"the page id","required":1,"default":null,"type":"int","allownull":true},"data":{"class":"external_multiple_structure","desc":"the data to be saved","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"name":{"class":"external_value","desc":"data name","required":1,"default":null,"type":"raw","allownull":true},"value":{"class":"external_value","desc":"data value","required":1,"default":null,"type":"raw","allownull":true}}}},"password":{"class":"external_value","desc":"optional password (the lesson may be protected)","required":0,"default":"","type":"raw","allownull":true},"review":{"class":"external_value","desc":"if we want to review just after finishing (1 hour margin)","required":0,"default":false,"type":"bool","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"newpageid":{"class":"external_value","desc":"New page id (if a jump was made).","required":1,"default":null,"type":"int","allownull":true},"inmediatejump":{"class":"external_value","desc":"Whether the page processing redirect directly to anoter page.","required":1,"default":null,"type":"bool","allownull":true},"nodefaultresponse":{"class":"external_value","desc":"Whether there is not a default response.","required":1,"default":null,"type":"bool","allownull":true},"feedback":{"class":"external_value","desc":"The response feedback.","required":1,"default":null,"type":"raw","allownull":true},"attemptsremaining":{"class":"external_value","desc":"Number of attempts remaining.","required":1,"default":null,"type":"int","allownull":true},"correctanswer":{"class":"external_value","desc":"Whether the answer is correct.","required":1,"default":null,"type":"bool","allownull":true},"noanswer":{"class":"external_value","desc":"Whether there aren't answers.","required":1,"default":null,"type":"bool","allownull":true},"isessayquestion":{"class":"external_value","desc":"Whether is a essay question.","required":1,"default":null,"type":"bool","allownull":true},"maxattemptsreached":{"class":"external_value","desc":"Whether we reachered the max number of attempts.","required":1,"default":null,"type":"bool","allownull":true},"response":{"class":"external_value","desc":"The response.","required":1,"default":null,"type":"raw","allownull":true},"studentanswer":{"class":"external_value","desc":"The student answer.","required":1,"default":null,"type":"raw","allownull":true},"userresponse":{"class":"external_value","desc":"The user response.","required":1,"default":null,"type":"raw","allownull":true},"reviewmode":{"class":"external_value","desc":"Whether the user is reviewing.","required":1,"default":null,"type":"bool","allownull":true},"ongoingscore":{"class":"external_value","desc":"The ongoing message.","required":1,"default":null,"type":"text","allownull":true},"progress":{"class":"external_value","desc":"Progress percentage in the lesson.","required":1,"default":null,"type":"int","allownull":true},"displaymenu":{"class":"external_value","desc":"Whether we should display the menu or not in this page.","required":1,"default":null,"type":"bool","allownull":true},"messages":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"The lesson generated messages","required":1,"default":null,"keys":{"message":{"class":"external_value","desc":"Message.","required":1,"default":null,"type":"raw","allownull":true},"type":{"class":"external_value","desc":"Message type: usually a CSS identifier like:\n                                success, info, warning, error, notifyproblem, notifyerror, notifytiny, notifysuccess","required":1,"default":null,"type":"alphanumext","allownull":true}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Processes page responses.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_lesson_view_lesson","component":"mod_lesson","capabilities":"mod\/lesson:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lessonid":{"class":"external_value","desc":"lesson instance id","required":1,"default":null,"type":"int","allownull":true},"password":{"class":"external_value","desc":"lesson password","required":0,"default":"","type":"raw","allownull":true}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"status":{"class":"external_value","desc":"status: true if success","required":1,"default":null,"type":"bool","allownull":true},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"type":"text","allownull":true},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"type":"int","allownull":true},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"type":"alphanum","allownull":true},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"type":"raw","allownull":true}}}}}},"description":"Trigger the course module viewed event and update the module completion status.","type":"write","loginrequired":true,"readonlysession":false}]}
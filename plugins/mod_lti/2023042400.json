{"functions":[{"name":"mod_lti_create_tool_proxy","component":"mod_lti","capabilities":"moodle\/site:config","services":null,"allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"name":{"class":"external_value","desc":"Tool proxy name","required":0,"default":"","allownull":true,"type":"text"},"regurl":{"class":"external_value","desc":"Tool proxy registration URL","required":1,"default":null,"allownull":true,"type":"url"},"capabilityoffered":{"class":"external_multiple_structure","desc":"Array of capabilities","required":0,"default":[],"content":{"class":"external_value","desc":"Tool proxy capabilities offered","required":1,"default":null,"allownull":true,"type":"text"}},"serviceoffered":{"class":"external_multiple_structure","desc":"Array of services","required":0,"default":[],"content":{"class":"external_value","desc":"Tool proxy services offered","required":1,"default":null,"allownull":true,"type":"text"}}}},"returns_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool proxy id","required":1,"default":null,"allownull":true,"type":"int"},"name":{"class":"external_value","desc":"Tool proxy name","required":1,"default":null,"allownull":true,"type":"text"},"regurl":{"class":"external_value","desc":"Tool proxy registration URL","required":1,"default":null,"allownull":true,"type":"url"},"state":{"class":"external_value","desc":"Tool proxy state","required":1,"default":null,"allownull":true,"type":"int"},"guid":{"class":"external_value","desc":"Tool proxy globally unique identifier","required":1,"default":null,"allownull":true,"type":"text"},"secret":{"class":"external_value","desc":"Tool proxy shared secret","required":1,"default":null,"allownull":true,"type":"text"},"vendorcode":{"class":"external_value","desc":"Tool proxy consumer code","required":1,"default":null,"allownull":true,"type":"text"},"capabilityoffered":{"class":"external_value","desc":"Tool proxy capabilities offered","required":1,"default":null,"allownull":true,"type":"text"},"serviceoffered":{"class":"external_value","desc":"Tool proxy services offered","required":1,"default":null,"allownull":true,"type":"text"},"toolproxy":{"class":"external_value","desc":"Tool proxy","required":1,"default":null,"allownull":true,"type":"text"},"timecreated":{"class":"external_value","desc":"Tool proxy time created","required":1,"default":null,"allownull":true,"type":"int"},"timemodified":{"class":"external_value","desc":"Tool proxy modified","required":1,"default":null,"allownull":true,"type":"int"}}},"description":"Create a tool proxy","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_lti_create_tool_type","component":"mod_lti","capabilities":"moodle\/site:config","services":null,"allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"cartridgeurl":{"class":"external_value","desc":"URL to cardridge to load tool information","required":0,"default":"","allownull":true,"type":"url"},"key":{"class":"external_value","desc":"Consumer key","required":0,"default":"","allownull":true,"type":"text"},"secret":{"class":"external_value","desc":"Shared secret","required":0,"default":"","allownull":true,"type":"text"}}},"returns_desc":{"class":"external_single_structure","desc":"Tool","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool type id","required":1,"default":null,"allownull":true,"type":"int"},"name":{"class":"external_value","desc":"Tool type name","required":1,"default":null,"allownull":true,"type":"notags"},"description":{"class":"external_value","desc":"Tool type description","required":1,"default":null,"allownull":true,"type":"notags"},"platformid":{"class":"external_value","desc":"Platform ID","required":1,"default":null,"allownull":true,"type":"text"},"clientid":{"class":"external_value","desc":"Client ID","required":1,"default":null,"allownull":true,"type":"text"},"deploymentid":{"class":"external_value","desc":"Deployment ID","required":1,"default":null,"allownull":true,"type":"int"},"urls":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"icon":{"class":"external_value","desc":"Tool type icon URL","required":1,"default":null,"allownull":true,"type":"url"},"edit":{"class":"external_value","desc":"Tool type edit URL","required":1,"default":null,"allownull":true,"type":"url"},"course":{"class":"external_value","desc":"Tool type edit URL","required":2,"default":null,"allownull":true,"type":"url"},"publickeyset":{"class":"external_value","desc":"Public Keyset URL","required":1,"default":null,"allownull":true,"type":"url"},"accesstoken":{"class":"external_value","desc":"Access Token URL","required":1,"default":null,"allownull":true,"type":"url"},"authrequest":{"class":"external_value","desc":"Authorisation Request URL","required":1,"default":null,"allownull":true,"type":"url"}}},"state":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"text":{"class":"external_value","desc":"Tool type state name string","required":1,"default":null,"allownull":true,"type":"text"},"pending":{"class":"external_value","desc":"Is the state pending","required":1,"default":null,"allownull":true,"type":"bool"},"configured":{"class":"external_value","desc":"Is the state configured","required":1,"default":null,"allownull":true,"type":"bool"},"rejected":{"class":"external_value","desc":"Is the state rejected","required":1,"default":null,"allownull":true,"type":"bool"},"unknown":{"class":"external_value","desc":"Is the state unknown","required":1,"default":null,"allownull":true,"type":"bool"}}},"hascapabilitygroups":{"class":"external_value","desc":"Indicate if capabilitygroups is populated","required":1,"default":null,"allownull":true,"type":"bool"},"capabilitygroups":{"class":"external_multiple_structure","desc":"Array of capability groups","required":0,"default":[],"content":{"class":"external_value","desc":"Tool type capability groups enabled","required":1,"default":null,"allownull":true,"type":"text"}},"courseid":{"class":"external_value","desc":"Tool type course","required":0,"default":0,"allownull":true,"type":"int"},"instanceids":{"class":"external_multiple_structure","desc":"IDs for the LTI instances using this type","required":0,"default":[],"content":{"class":"external_value","desc":"LTI instance ID","required":1,"default":null,"allownull":true,"type":"int"}},"instancecount":{"class":"external_value","desc":"The number of times this tool is being used","required":1,"default":null,"allownull":true,"type":"int"}}},"description":"Create a tool type","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_lti_delete_tool_proxy","component":"mod_lti","capabilities":"moodle\/site:config","services":null,"allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool proxy id","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool proxy id","required":1,"default":null,"allownull":true,"type":"int"},"name":{"class":"external_value","desc":"Tool proxy name","required":1,"default":null,"allownull":true,"type":"text"},"regurl":{"class":"external_value","desc":"Tool proxy registration URL","required":1,"default":null,"allownull":true,"type":"url"},"state":{"class":"external_value","desc":"Tool proxy state","required":1,"default":null,"allownull":true,"type":"int"},"guid":{"class":"external_value","desc":"Tool proxy globally unique identifier","required":1,"default":null,"allownull":true,"type":"text"},"secret":{"class":"external_value","desc":"Tool proxy shared secret","required":1,"default":null,"allownull":true,"type":"text"},"vendorcode":{"class":"external_value","desc":"Tool proxy consumer code","required":1,"default":null,"allownull":true,"type":"text"},"capabilityoffered":{"class":"external_value","desc":"Tool proxy capabilities offered","required":1,"default":null,"allownull":true,"type":"text"},"serviceoffered":{"class":"external_value","desc":"Tool proxy services offered","required":1,"default":null,"allownull":true,"type":"text"},"toolproxy":{"class":"external_value","desc":"Tool proxy","required":1,"default":null,"allownull":true,"type":"text"},"timecreated":{"class":"external_value","desc":"Tool proxy time created","required":1,"default":null,"allownull":true,"type":"int"},"timemodified":{"class":"external_value","desc":"Tool proxy modified","required":1,"default":null,"allownull":true,"type":"int"}}},"description":"Delete a tool proxy","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_lti_delete_tool_type","component":"mod_lti","capabilities":"moodle\/site:config","services":null,"allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool type id","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool type id","required":1,"default":null,"allownull":true,"type":"int"}}},"description":"Delete a tool type","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_lti_get_ltis_by_courses","component":"mod_lti","capabilities":"mod\/lti:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"courseids":{"class":"external_multiple_structure","desc":"Array of course ids","required":0,"default":[],"content":{"class":"external_value","desc":"course id","required":1,"default":null,"allownull":true,"type":"int"}}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"ltis":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"Tool","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Activity instance id","required":1,"default":null,"allownull":true,"type":"int"},"coursemodule":{"class":"external_value","desc":"Course module id","required":1,"default":null,"allownull":true,"type":"int"},"course":{"class":"external_value","desc":"Course id","required":1,"default":null,"allownull":true,"type":"int"},"name":{"class":"external_value","desc":"Activity name","required":1,"default":null,"allownull":true,"type":"raw"},"intro":{"class":"external_value","desc":"Activity introduction","required":2,"default":null,"allownull":true,"type":"raw"},"introformat":{"class":"external_format_value,external_value","desc":"intro format (1 = HTML, 0 = MOODLE, 2 = PLAIN, or 4 = MARKDOWN)","required":2,"default":null,"allownull":true,"type":"int"},"introfiles":{"class":"external_files,external_multiple_structure","desc":"Files in the introduction","required":2,"default":null,"content":{"class":"external_single_structure","desc":"File.","required":1,"default":null,"keys":{"filename":{"class":"external_value","desc":"File name.","required":2,"default":null,"allownull":true,"type":"file"},"filepath":{"class":"external_value","desc":"File path.","required":2,"default":null,"allownull":true,"type":"path"},"filesize":{"class":"external_value","desc":"File size.","required":2,"default":null,"allownull":true,"type":"int"},"fileurl":{"class":"external_value","desc":"Downloadable file url.","required":2,"default":null,"allownull":true,"type":"url"},"timemodified":{"class":"external_value","desc":"Time modified.","required":2,"default":null,"allownull":true,"type":"int"},"mimetype":{"class":"external_value","desc":"File mime type.","required":2,"default":null,"allownull":true,"type":"raw"},"isexternalfile":{"class":"external_value","desc":"Whether is an external file.","required":2,"default":null,"allownull":true,"type":"bool"},"repositorytype":{"class":"external_value","desc":"The repository type for external files.","required":2,"default":null,"allownull":true,"type":"plugin"}}}},"section":{"class":"external_value","desc":"Course section id","required":2,"default":null,"allownull":true,"type":"int"},"visible":{"class":"external_value","desc":"Visible","required":2,"default":null,"allownull":true,"type":"bool"},"groupmode":{"class":"external_value","desc":"Group mode","required":2,"default":null,"allownull":true,"type":"int"},"groupingid":{"class":"external_value","desc":"Group id","required":2,"default":null,"allownull":true,"type":"int"},"lang":{"class":"external_value","desc":"Forced activity language","required":2,"default":null,"allownull":true,"type":"safedir"},"timecreated":{"class":"external_value","desc":"Time of creation","required":2,"default":null,"allownull":true,"type":"int"},"timemodified":{"class":"external_value","desc":"Time of last modification","required":2,"default":null,"allownull":true,"type":"int"},"typeid":{"class":"external_value","desc":"Type id","required":2,"default":null,"allownull":true,"type":"int"},"toolurl":{"class":"external_value","desc":"Tool url","required":2,"default":null,"allownull":true,"type":"url"},"securetoolurl":{"class":"external_value","desc":"Secure tool url","required":2,"default":null,"allownull":true,"type":"raw"},"instructorchoicesendname":{"class":"external_value","desc":"Instructor choice send name","required":2,"default":null,"allownull":true,"type":"text"},"instructorchoicesendemailaddr":{"class":"external_value","desc":"instructor choice send mail address","required":2,"default":null,"allownull":true,"type":"int"},"instructorchoiceallowroster":{"class":"external_value","desc":"Instructor choice allow roster","required":2,"default":null,"allownull":true,"type":"int"},"instructorchoiceallowsetting":{"class":"external_value","desc":"Instructor choice allow setting","required":2,"default":null,"allownull":true,"type":"int"},"instructorcustomparameters":{"class":"external_value","desc":"instructor custom parameters","required":2,"default":null,"allownull":true,"type":"raw"},"instructorchoiceacceptgrades":{"class":"external_value","desc":"instructor choice accept grades","required":2,"default":null,"allownull":true,"type":"int"},"grade":{"class":"external_value","desc":"Enable grades","required":2,"default":null,"allownull":true,"type":"int"},"launchcontainer":{"class":"external_value","desc":"Launch container mode","required":2,"default":null,"allownull":true,"type":"int"},"resourcekey":{"class":"external_value","desc":"Resource key","required":2,"default":null,"allownull":true,"type":"raw"},"password":{"class":"external_value","desc":"Shared secret","required":2,"default":null,"allownull":true,"type":"raw"},"debuglaunch":{"class":"external_value","desc":"Debug launch","required":2,"default":null,"allownull":true,"type":"int"},"showtitlelaunch":{"class":"external_value","desc":"Show title launch","required":2,"default":null,"allownull":true,"type":"int"},"showdescriptionlaunch":{"class":"external_value","desc":"Show description launch","required":2,"default":null,"allownull":true,"type":"int"},"servicesalt":{"class":"external_value","desc":"Service salt","required":2,"default":null,"allownull":true,"type":"raw"},"icon":{"class":"external_value","desc":"Alternative icon URL","required":2,"default":null,"allownull":true,"type":"url"},"secureicon":{"class":"external_value","desc":"Secure icon URL","required":2,"default":null,"allownull":true,"type":"url"}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"raw"}}}}}},"description":"Returns a list of external tool instances in a provided set of courses, if\n                            no courses are provided then all the external tool instances the user has access to will be returned.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lti_get_tool_launch_data","component":"mod_lti","capabilities":"mod\/lti:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"toolid":{"class":"external_value","desc":"external tool instance id","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"endpoint":{"class":"external_value","desc":"Endpoint URL","required":1,"default":null,"allownull":true,"type":"raw"},"parameters":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"name":{"class":"external_value","desc":"Parameter name","required":1,"default":null,"allownull":true,"type":"notags"},"value":{"class":"external_value","desc":"Parameter value","required":1,"default":null,"allownull":true,"type":"raw"}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"raw"}}}}}},"description":"Return the launch data for a given external tool.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lti_get_tool_proxies","component":"mod_lti","capabilities":"moodle\/site:config","services":null,"allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"orphanedonly":{"class":"external_value","desc":"Orphaned tool types only","required":0,"default":0,"allownull":true,"type":"bool"}}},"returns_desc":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool proxy id","required":1,"default":null,"allownull":true,"type":"int"},"name":{"class":"external_value","desc":"Tool proxy name","required":1,"default":null,"allownull":true,"type":"text"},"regurl":{"class":"external_value","desc":"Tool proxy registration URL","required":1,"default":null,"allownull":true,"type":"url"},"state":{"class":"external_value","desc":"Tool proxy state","required":1,"default":null,"allownull":true,"type":"int"},"guid":{"class":"external_value","desc":"Tool proxy globally unique identifier","required":1,"default":null,"allownull":true,"type":"text"},"secret":{"class":"external_value","desc":"Tool proxy shared secret","required":1,"default":null,"allownull":true,"type":"text"},"vendorcode":{"class":"external_value","desc":"Tool proxy consumer code","required":1,"default":null,"allownull":true,"type":"text"},"capabilityoffered":{"class":"external_value","desc":"Tool proxy capabilities offered","required":1,"default":null,"allownull":true,"type":"text"},"serviceoffered":{"class":"external_value","desc":"Tool proxy services offered","required":1,"default":null,"allownull":true,"type":"text"},"toolproxy":{"class":"external_value","desc":"Tool proxy","required":1,"default":null,"allownull":true,"type":"text"},"timecreated":{"class":"external_value","desc":"Tool proxy time created","required":1,"default":null,"allownull":true,"type":"int"},"timemodified":{"class":"external_value","desc":"Tool proxy modified","required":1,"default":null,"allownull":true,"type":"int"}}}},"description":"Get a list of the tool proxies","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lti_get_tool_proxy_registration_request","component":"mod_lti","capabilities":"moodle\/site:config","services":null,"allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool proxy id","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"lti_message_type":{"class":"external_value","desc":"LTI message type","required":1,"default":null,"allownull":true,"type":"alphanumext"},"lti_version":{"class":"external_value","desc":"LTI version","required":1,"default":null,"allownull":true,"type":"alphanumext"},"reg_key":{"class":"external_value","desc":"Tool proxy registration key","required":1,"default":null,"allownull":true,"type":"text"},"reg_password":{"class":"external_value","desc":"Tool proxy registration password","required":1,"default":null,"allownull":true,"type":"text"},"reg_url":{"class":"external_value","desc":"Tool proxy registration url","required":1,"default":null,"allownull":true,"type":"text"},"tc_profile_url":{"class":"external_value","desc":"Tool consumers profile URL","required":1,"default":null,"allownull":true,"type":"url"},"launch_presentation_return_url":{"class":"external_value","desc":"URL to redirect on registration completion","required":1,"default":null,"allownull":true,"type":"url"}}},"description":"Get a registration request for a tool proxy","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lti_get_tool_types","component":"mod_lti","capabilities":"moodle\/site:config","services":null,"allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"toolproxyid":{"class":"external_value","desc":"Tool proxy id","required":0,"default":0,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"Tool","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool type id","required":1,"default":null,"allownull":true,"type":"int"},"name":{"class":"external_value","desc":"Tool type name","required":1,"default":null,"allownull":true,"type":"notags"},"description":{"class":"external_value","desc":"Tool type description","required":1,"default":null,"allownull":true,"type":"notags"},"platformid":{"class":"external_value","desc":"Platform ID","required":1,"default":null,"allownull":true,"type":"text"},"clientid":{"class":"external_value","desc":"Client ID","required":1,"default":null,"allownull":true,"type":"text"},"deploymentid":{"class":"external_value","desc":"Deployment ID","required":1,"default":null,"allownull":true,"type":"int"},"urls":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"icon":{"class":"external_value","desc":"Tool type icon URL","required":1,"default":null,"allownull":true,"type":"url"},"edit":{"class":"external_value","desc":"Tool type edit URL","required":1,"default":null,"allownull":true,"type":"url"},"course":{"class":"external_value","desc":"Tool type edit URL","required":2,"default":null,"allownull":true,"type":"url"},"publickeyset":{"class":"external_value","desc":"Public Keyset URL","required":1,"default":null,"allownull":true,"type":"url"},"accesstoken":{"class":"external_value","desc":"Access Token URL","required":1,"default":null,"allownull":true,"type":"url"},"authrequest":{"class":"external_value","desc":"Authorisation Request URL","required":1,"default":null,"allownull":true,"type":"url"}}},"state":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"text":{"class":"external_value","desc":"Tool type state name string","required":1,"default":null,"allownull":true,"type":"text"},"pending":{"class":"external_value","desc":"Is the state pending","required":1,"default":null,"allownull":true,"type":"bool"},"configured":{"class":"external_value","desc":"Is the state configured","required":1,"default":null,"allownull":true,"type":"bool"},"rejected":{"class":"external_value","desc":"Is the state rejected","required":1,"default":null,"allownull":true,"type":"bool"},"unknown":{"class":"external_value","desc":"Is the state unknown","required":1,"default":null,"allownull":true,"type":"bool"}}},"hascapabilitygroups":{"class":"external_value","desc":"Indicate if capabilitygroups is populated","required":1,"default":null,"allownull":true,"type":"bool"},"capabilitygroups":{"class":"external_multiple_structure","desc":"Array of capability groups","required":0,"default":[],"content":{"class":"external_value","desc":"Tool type capability groups enabled","required":1,"default":null,"allownull":true,"type":"text"}},"courseid":{"class":"external_value","desc":"Tool type course","required":0,"default":0,"allownull":true,"type":"int"},"instanceids":{"class":"external_multiple_structure","desc":"IDs for the LTI instances using this type","required":0,"default":[],"content":{"class":"external_value","desc":"LTI instance ID","required":1,"default":null,"allownull":true,"type":"int"}},"instancecount":{"class":"external_value","desc":"The number of times this tool is being used","required":1,"default":null,"allownull":true,"type":"int"}}}},"description":"Get a list of the tool types","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lti_get_tool_types_and_proxies","component":"mod_lti","capabilities":"moodle\/site:config","services":null,"allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"toolproxyid":{"class":"external_value","desc":"Tool proxy id","required":0,"default":0,"allownull":true,"type":"int"},"orphanedonly":{"class":"external_value","desc":"Orphaned tool types only","required":0,"default":0,"allownull":true,"type":"bool"},"limit":{"class":"external_value","desc":"How many tool types displayed per page","required":0,"default":60,"allownull":false,"type":"int"},"offset":{"class":"external_value","desc":"Current offset of tool elements","required":0,"default":0,"allownull":false,"type":"int"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"types":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"Tool","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool type id","required":1,"default":null,"allownull":true,"type":"int"},"name":{"class":"external_value","desc":"Tool type name","required":1,"default":null,"allownull":true,"type":"notags"},"description":{"class":"external_value","desc":"Tool type description","required":1,"default":null,"allownull":true,"type":"notags"},"platformid":{"class":"external_value","desc":"Platform ID","required":1,"default":null,"allownull":true,"type":"text"},"clientid":{"class":"external_value","desc":"Client ID","required":1,"default":null,"allownull":true,"type":"text"},"deploymentid":{"class":"external_value","desc":"Deployment ID","required":1,"default":null,"allownull":true,"type":"int"},"urls":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"icon":{"class":"external_value","desc":"Tool type icon URL","required":1,"default":null,"allownull":true,"type":"url"},"edit":{"class":"external_value","desc":"Tool type edit URL","required":1,"default":null,"allownull":true,"type":"url"},"course":{"class":"external_value","desc":"Tool type edit URL","required":2,"default":null,"allownull":true,"type":"url"},"publickeyset":{"class":"external_value","desc":"Public Keyset URL","required":1,"default":null,"allownull":true,"type":"url"},"accesstoken":{"class":"external_value","desc":"Access Token URL","required":1,"default":null,"allownull":true,"type":"url"},"authrequest":{"class":"external_value","desc":"Authorisation Request URL","required":1,"default":null,"allownull":true,"type":"url"}}},"state":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"text":{"class":"external_value","desc":"Tool type state name string","required":1,"default":null,"allownull":true,"type":"text"},"pending":{"class":"external_value","desc":"Is the state pending","required":1,"default":null,"allownull":true,"type":"bool"},"configured":{"class":"external_value","desc":"Is the state configured","required":1,"default":null,"allownull":true,"type":"bool"},"rejected":{"class":"external_value","desc":"Is the state rejected","required":1,"default":null,"allownull":true,"type":"bool"},"unknown":{"class":"external_value","desc":"Is the state unknown","required":1,"default":null,"allownull":true,"type":"bool"}}},"hascapabilitygroups":{"class":"external_value","desc":"Indicate if capabilitygroups is populated","required":1,"default":null,"allownull":true,"type":"bool"},"capabilitygroups":{"class":"external_multiple_structure","desc":"Array of capability groups","required":0,"default":[],"content":{"class":"external_value","desc":"Tool type capability groups enabled","required":1,"default":null,"allownull":true,"type":"text"}},"courseid":{"class":"external_value","desc":"Tool type course","required":0,"default":0,"allownull":true,"type":"int"},"instanceids":{"class":"external_multiple_structure","desc":"IDs for the LTI instances using this type","required":0,"default":[],"content":{"class":"external_value","desc":"LTI instance ID","required":1,"default":null,"allownull":true,"type":"int"}},"instancecount":{"class":"external_value","desc":"The number of times this tool is being used","required":1,"default":null,"allownull":true,"type":"int"}}}},"proxies":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool proxy id","required":1,"default":null,"allownull":true,"type":"int"},"name":{"class":"external_value","desc":"Tool proxy name","required":1,"default":null,"allownull":true,"type":"text"},"regurl":{"class":"external_value","desc":"Tool proxy registration URL","required":1,"default":null,"allownull":true,"type":"url"},"state":{"class":"external_value","desc":"Tool proxy state","required":1,"default":null,"allownull":true,"type":"int"},"guid":{"class":"external_value","desc":"Tool proxy globally unique identifier","required":1,"default":null,"allownull":true,"type":"text"},"secret":{"class":"external_value","desc":"Tool proxy shared secret","required":1,"default":null,"allownull":true,"type":"text"},"vendorcode":{"class":"external_value","desc":"Tool proxy consumer code","required":1,"default":null,"allownull":true,"type":"text"},"capabilityoffered":{"class":"external_value","desc":"Tool proxy capabilities offered","required":1,"default":null,"allownull":true,"type":"text"},"serviceoffered":{"class":"external_value","desc":"Tool proxy services offered","required":1,"default":null,"allownull":true,"type":"text"},"toolproxy":{"class":"external_value","desc":"Tool proxy","required":1,"default":null,"allownull":true,"type":"text"},"timecreated":{"class":"external_value","desc":"Tool proxy time created","required":1,"default":null,"allownull":true,"type":"int"},"timemodified":{"class":"external_value","desc":"Tool proxy modified","required":1,"default":null,"allownull":true,"type":"int"}}}},"limit":{"class":"external_value","desc":"Limit of how many tool types to show","required":2,"default":null,"allownull":true,"type":"int"},"offset":{"class":"external_value","desc":"Offset of tool types","required":2,"default":null,"allownull":true,"type":"int"}}},"description":"Get a list of the tool types and tool proxies","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lti_get_tool_types_and_proxies_count","component":"mod_lti","capabilities":"moodle\/site:config","services":null,"allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"toolproxyid":{"class":"external_value","desc":"Tool proxy id","required":0,"default":0,"allownull":true,"type":"int"},"orphanedonly":{"class":"external_value","desc":"Orphaned tool types only","required":0,"default":0,"allownull":true,"type":"bool"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"count":{"class":"external_value","desc":"Total number of tool types and proxies","required":1,"default":null,"allownull":true,"type":"int"}}},"description":"Get total number of the tool types and tool proxies","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lti_is_cartridge","component":"mod_lti","capabilities":"moodle\/site:config","services":null,"allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"url":{"class":"external_value","desc":"Tool url","required":1,"default":null,"allownull":true,"type":"url"}}},"returns_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"iscartridge":{"class":"external_value","desc":"True if the URL is a cartridge","required":1,"default":null,"allownull":true,"type":"bool"}}},"description":"Determine if the given url is for a cartridge","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_lti_update_tool_type","component":"mod_lti","capabilities":"moodle\/site:config","services":null,"allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool type id","required":1,"default":null,"allownull":true,"type":"int"},"name":{"class":"external_value","desc":"Tool type name","required":0,"default":null,"allownull":true,"type":"raw"},"description":{"class":"external_value","desc":"Tool type description","required":0,"default":null,"allownull":true,"type":"raw"},"state":{"class":"external_value","desc":"Tool type state","required":0,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_single_structure","desc":"Tool","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"Tool type id","required":1,"default":null,"allownull":true,"type":"int"},"name":{"class":"external_value","desc":"Tool type name","required":1,"default":null,"allownull":true,"type":"notags"},"description":{"class":"external_value","desc":"Tool type description","required":1,"default":null,"allownull":true,"type":"notags"},"platformid":{"class":"external_value","desc":"Platform ID","required":1,"default":null,"allownull":true,"type":"text"},"clientid":{"class":"external_value","desc":"Client ID","required":1,"default":null,"allownull":true,"type":"text"},"deploymentid":{"class":"external_value","desc":"Deployment ID","required":1,"default":null,"allownull":true,"type":"int"},"urls":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"icon":{"class":"external_value","desc":"Tool type icon URL","required":1,"default":null,"allownull":true,"type":"url"},"edit":{"class":"external_value","desc":"Tool type edit URL","required":1,"default":null,"allownull":true,"type":"url"},"course":{"class":"external_value","desc":"Tool type edit URL","required":2,"default":null,"allownull":true,"type":"url"},"publickeyset":{"class":"external_value","desc":"Public Keyset URL","required":1,"default":null,"allownull":true,"type":"url"},"accesstoken":{"class":"external_value","desc":"Access Token URL","required":1,"default":null,"allownull":true,"type":"url"},"authrequest":{"class":"external_value","desc":"Authorisation Request URL","required":1,"default":null,"allownull":true,"type":"url"}}},"state":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"text":{"class":"external_value","desc":"Tool type state name string","required":1,"default":null,"allownull":true,"type":"text"},"pending":{"class":"external_value","desc":"Is the state pending","required":1,"default":null,"allownull":true,"type":"bool"},"configured":{"class":"external_value","desc":"Is the state configured","required":1,"default":null,"allownull":true,"type":"bool"},"rejected":{"class":"external_value","desc":"Is the state rejected","required":1,"default":null,"allownull":true,"type":"bool"},"unknown":{"class":"external_value","desc":"Is the state unknown","required":1,"default":null,"allownull":true,"type":"bool"}}},"hascapabilitygroups":{"class":"external_value","desc":"Indicate if capabilitygroups is populated","required":1,"default":null,"allownull":true,"type":"bool"},"capabilitygroups":{"class":"external_multiple_structure","desc":"Array of capability groups","required":0,"default":[],"content":{"class":"external_value","desc":"Tool type capability groups enabled","required":1,"default":null,"allownull":true,"type":"text"}},"courseid":{"class":"external_value","desc":"Tool type course","required":0,"default":0,"allownull":true,"type":"int"},"instanceids":{"class":"external_multiple_structure","desc":"IDs for the LTI instances using this type","required":0,"default":[],"content":{"class":"external_value","desc":"LTI instance ID","required":1,"default":null,"allownull":true,"type":"int"}},"instancecount":{"class":"external_value","desc":"The number of times this tool is being used","required":1,"default":null,"allownull":true,"type":"int"}}},"description":"Update a tool type","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_lti_view_lti","component":"mod_lti","capabilities":"mod\/lti:view","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"ltiid":{"class":"external_value","desc":"lti instance id","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"status":{"class":"external_value","desc":"status: true if success","required":1,"default":null,"allownull":true,"type":"bool"},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"raw"}}}}}},"description":"Trigger the course module viewed event and update the module completion status.","type":"read","loginrequired":true,"readonlysession":false}]}
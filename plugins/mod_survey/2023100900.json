{"functions":[{"name":"mod_survey_get_questions","component":"mod_survey","capabilities":"mod\/survey:participate","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"allownull":false,"keys":{"surveyid":{"class":"external_value","desc":"survey instance id","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"allownull":false,"keys":{"questions":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"allownull":false,"content":{"class":"external_single_structure","desc":"Questions","required":1,"default":null,"allownull":false,"keys":{"id":{"class":"external_value","desc":"Question id","required":1,"default":null,"allownull":true,"type":"int"},"text":{"class":"external_value","desc":"Question text","required":1,"default":null,"allownull":true,"type":"raw"},"shorttext":{"class":"external_value","desc":"Question short text","required":1,"default":null,"allownull":true,"type":"raw"},"multi":{"class":"external_value","desc":"Subquestions ids","required":1,"default":null,"allownull":true,"type":"raw"},"intro":{"class":"external_value","desc":"The question intro","required":1,"default":null,"allownull":true,"type":"raw"},"type":{"class":"external_value","desc":"Question type","required":1,"default":null,"allownull":true,"type":"int"},"options":{"class":"external_value","desc":"Question options","required":1,"default":null,"allownull":true,"type":"raw"},"parent":{"class":"external_value","desc":"Parent question (for subquestions)","required":1,"default":null,"allownull":true,"type":"int"}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"allownull":false,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"allownull":false,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"raw"}}}}}},"description":"Get the complete list of questions for the survey, including subquestions.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_survey_get_surveys_by_courses","component":"mod_survey","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"allownull":false,"keys":{"courseids":{"class":"external_multiple_structure","desc":"Array of course ids","required":0,"default":[],"allownull":false,"content":{"class":"external_value","desc":"course id","required":1,"default":null,"allownull":true,"type":"int"}}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"allownull":false,"keys":{"surveys":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"allownull":false,"content":{"class":"external_single_structure","desc":"Surveys","required":1,"default":null,"allownull":false,"keys":{"id":{"class":"external_value","desc":"Activity instance id","required":1,"default":null,"allownull":true,"type":"int"},"coursemodule":{"class":"external_value","desc":"Course module id","required":1,"default":null,"allownull":true,"type":"int"},"course":{"class":"external_value","desc":"Course id","required":1,"default":null,"allownull":true,"type":"int"},"name":{"class":"external_value","desc":"Activity name","required":1,"default":null,"allownull":true,"type":"raw"},"intro":{"class":"external_value","desc":"Activity introduction","required":2,"default":null,"allownull":true,"type":"raw"},"introformat":{"class":"external_format_value,external_value","desc":"intro format (1 = HTML, 0 = MOODLE, 2 = PLAIN, or 4 = MARKDOWN)","required":2,"default":null,"allownull":true,"type":"int"},"introfiles":{"class":"external_files,external_multiple_structure","desc":"Files in the introduction","required":2,"default":null,"allownull":false,"content":{"class":"external_single_structure","desc":"File.","required":1,"default":null,"allownull":false,"keys":{"filename":{"class":"external_value","desc":"File name.","required":2,"default":null,"allownull":true,"type":"file"},"filepath":{"class":"external_value","desc":"File path.","required":2,"default":null,"allownull":true,"type":"path"},"filesize":{"class":"external_value","desc":"File size.","required":2,"default":null,"allownull":true,"type":"int"},"fileurl":{"class":"external_value","desc":"Downloadable file url.","required":2,"default":null,"allownull":true,"type":"url"},"timemodified":{"class":"external_value","desc":"Time modified.","required":2,"default":null,"allownull":true,"type":"int"},"mimetype":{"class":"external_value","desc":"File mime type.","required":2,"default":null,"allownull":true,"type":"raw"},"isexternalfile":{"class":"external_value","desc":"Whether is an external file.","required":2,"default":null,"allownull":true,"type":"bool"},"repositorytype":{"class":"external_value","desc":"The repository type for external files.","required":2,"default":null,"allownull":true,"type":"plugin"}}}},"section":{"class":"external_value","desc":"Course section id","required":2,"default":null,"allownull":true,"type":"int"},"visible":{"class":"external_value","desc":"Visible","required":2,"default":null,"allownull":true,"type":"bool"},"groupmode":{"class":"external_value","desc":"Group mode","required":2,"default":null,"allownull":true,"type":"int"},"groupingid":{"class":"external_value","desc":"Group id","required":2,"default":null,"allownull":true,"type":"int"},"lang":{"class":"external_value","desc":"Forced activity language","required":2,"default":null,"allownull":true,"type":"safedir"},"template":{"class":"external_value","desc":"Survey type","required":2,"default":null,"allownull":true,"type":"int"},"days":{"class":"external_value","desc":"Days","required":2,"default":null,"allownull":true,"type":"int"},"questions":{"class":"external_value","desc":"Question ids","required":2,"default":null,"allownull":true,"type":"raw"},"surveydone":{"class":"external_value","desc":"Did I finish the survey?","required":2,"default":null,"allownull":true,"type":"int"},"timecreated":{"class":"external_value","desc":"Time of creation","required":2,"default":null,"allownull":true,"type":"int"},"timemodified":{"class":"external_value","desc":"Time of last modification","required":2,"default":null,"allownull":true,"type":"int"}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"allownull":false,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"allownull":false,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"raw"}}}}}},"description":"Returns a list of survey instances in a provided set of courses,\n                            if no courses are provided then all the survey instances the user has access to will be returned.","type":"read","loginrequired":true,"readonlysession":false},{"name":"mod_survey_submit_answers","component":"mod_survey","capabilities":"mod\/survey:participate","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"allownull":false,"keys":{"surveyid":{"class":"external_value","desc":"Survey id","required":1,"default":null,"allownull":true,"type":"int"},"answers":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"allownull":false,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"allownull":false,"keys":{"key":{"class":"external_value","desc":"Answer key","required":1,"default":null,"allownull":true,"type":"raw"},"value":{"class":"external_value","desc":"Answer value","required":1,"default":null,"allownull":true,"type":"raw"}}}}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"allownull":false,"keys":{"status":{"class":"external_value","desc":"status: true if success","required":1,"default":null,"allownull":true,"type":"bool"},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"allownull":false,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"allownull":false,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"raw"}}}}}},"description":"Submit the answers for a given survey.","type":"write","loginrequired":true,"readonlysession":false},{"name":"mod_survey_view_survey","component":"mod_survey","capabilities":"mod\/survey:participate","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"allownull":false,"keys":{"surveyid":{"class":"external_value","desc":"survey instance id","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"allownull":false,"keys":{"status":{"class":"external_value","desc":"status: true if success","required":1,"default":null,"allownull":true,"type":"bool"},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"allownull":false,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"allownull":false,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"raw"}}}}}},"description":"Trigger the course module viewed event and update the module completion status.","type":"write","loginrequired":true,"readonlysession":false}]}
{"functions":[{"name":"tool_mobile_call_external_functions","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"requests":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"function":{"class":"external_value","desc":"Function name","required":1,"default":null,"allownull":true,"type":"alphanumext"},"arguments":{"class":"external_value","desc":"JSON-encoded object with named arguments","required":0,"default":"{}","allownull":true,"type":"raw"},"settingraw":{"class":"external_value","desc":"Return raw text","required":0,"default":false,"allownull":true,"type":"bool"},"settingfilter":{"class":"external_value","desc":"Filter text","required":0,"default":false,"allownull":true,"type":"bool"},"settingfileurl":{"class":"external_value","desc":"Rewrite plugin file URLs","required":0,"default":true,"allownull":true,"type":"bool"},"settinglang":{"class":"external_value","desc":"Session language","required":0,"default":"","allownull":true,"type":"lang","enum":["en"]}}}}}},"returns_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"responses":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"error":{"class":"external_value","desc":"Whether an exception was thrown.","required":1,"default":null,"allownull":true,"type":"bool"},"data":{"class":"external_value","desc":"JSON-encoded response data","required":2,"default":null,"allownull":true,"type":"raw"},"exception":{"class":"external_value","desc":"JSON-encoed exception info","required":2,"default":null,"allownull":true,"type":"raw"}}}}}},"description":"Call multiple external functions and return all responses.","type":"write","loginrequired":true,"readonlysession":false},{"name":"tool_mobile_get_autologin_key","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"privatetoken":{"class":"external_value","desc":"Private token, usually generated by login\/token.php","required":1,"default":null,"allownull":true,"type":"alphanum"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"key":{"class":"external_value","desc":"Auto-login key for a single usage with time expiration.","required":1,"default":null,"allownull":true,"type":"alphanumext"},"autologinurl":{"class":"external_value","desc":"Auto-login URL.","required":1,"default":null,"allownull":true,"type":"url"},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"text"}}}}}},"description":"Creates an auto-login key for the current user.\n                            Is created only in https sites and is restricted by time, ip address and only works if the request\n                            comes from the Moodle mobile or desktop app.","type":"write","loginrequired":true,"readonlysession":false},{"name":"tool_mobile_get_config","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"section":{"class":"external_value","desc":"Settings section name.","required":0,"default":"","allownull":true,"type":"alphanumext"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"settings":{"class":"external_multiple_structure","desc":"Settings","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"name":{"class":"external_value","desc":"The name of the setting","required":1,"default":null,"allownull":true,"type":"raw"},"value":{"class":"external_value","desc":"The value of the setting","required":1,"default":null,"allownull":true,"type":"raw"}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"text"}}}}}},"description":"Returns a list of the site configurations, filtering by section.","type":"read","loginrequired":true,"readonlysession":false},{"name":"tool_mobile_get_content","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"component":{"class":"external_value","desc":"Component where the class is e.g. mod_assign.","required":1,"default":null,"allownull":true,"type":"component"},"method":{"class":"external_value","desc":"Method to execute in class \\$component\\output\\mobile.","required":1,"default":null,"allownull":true,"type":"alphanumext"},"args":{"class":"external_multiple_structure","desc":"Args for the method are optional.","required":2,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"name":{"class":"external_value","desc":"Param name.","required":1,"default":null,"allownull":true,"type":"alphanumext"},"value":{"class":"external_value","desc":"Param value.","required":1,"default":null,"allownull":true,"type":"raw"}}}}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"templates":{"class":"external_multiple_structure","desc":"Templates required by the generated content.","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"id":{"class":"external_value","desc":"ID of the template.","required":1,"default":null,"allownull":true,"type":"text"},"html":{"class":"external_value","desc":"HTML code.","required":1,"default":null,"allownull":true,"type":"raw"}}}},"javascript":{"class":"external_value","desc":"JavaScript code.","required":1,"default":null,"allownull":true,"type":"raw"},"otherdata":{"class":"external_multiple_structure","desc":"Other data that can be used or manipulated by the template via 2-way data-binding.","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"name":{"class":"external_value","desc":"Field name.","required":1,"default":null,"allownull":true,"type":"raw"},"value":{"class":"external_value","desc":"Field value.","required":1,"default":null,"allownull":true,"type":"raw"}}}},"files":{"class":"external_files,external_multiple_structure","desc":"Files in the content.","required":1,"default":null,"content":{"class":"external_single_structure","desc":"File.","required":1,"default":null,"keys":{"filename":{"class":"external_value","desc":"File name.","required":2,"default":null,"allownull":true,"type":"file"},"filepath":{"class":"external_value","desc":"File path.","required":2,"default":null,"allownull":true,"type":"path"},"filesize":{"class":"external_value","desc":"File size.","required":2,"default":null,"allownull":true,"type":"int"},"fileurl":{"class":"external_value","desc":"Downloadable file url.","required":2,"default":null,"allownull":true,"type":"url"},"timemodified":{"class":"external_value","desc":"Time modified.","required":2,"default":null,"allownull":true,"type":"int"},"mimetype":{"class":"external_value","desc":"File mime type.","required":2,"default":null,"allownull":true,"type":"raw"},"isexternalfile":{"class":"external_value","desc":"Whether is an external file.","required":2,"default":null,"allownull":true,"type":"bool"},"repositorytype":{"class":"external_value","desc":"The repository type for external files.","required":2,"default":null,"allownull":true,"type":"plugin"}}}},"restrict":{"class":"external_single_structure","desc":"Restrict this content to certain users or courses.","required":1,"default":null,"keys":{"users":{"class":"external_multiple_structure","desc":"List of allowed users.","required":2,"default":null,"content":{"class":"external_value","desc":"user id","required":1,"default":null,"allownull":true,"type":"int"}},"courses":{"class":"external_multiple_structure","desc":"List of allowed courses.","required":2,"default":null,"content":{"class":"external_value","desc":"course id","required":1,"default":null,"allownull":true,"type":"int"}}}},"disabled":{"class":"external_value","desc":"Whether we consider this disabled or not.","required":2,"default":null,"allownull":true,"type":"bool"}}},"description":"Returns a piece of content to be displayed in the Mobile app.","type":"read","loginrequired":true,"readonlysession":false},{"name":"tool_mobile_get_plugins_supporting_mobile","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":[]},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"plugins":{"class":"external_multiple_structure","desc":"","required":1,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"component":{"class":"external_value","desc":"The plugin component name.","required":1,"default":null,"allownull":true,"type":"component"},"version":{"class":"external_value","desc":"The plugin version number.","required":1,"default":null,"allownull":true,"type":"notags"},"addon":{"class":"external_value","desc":"The Mobile addon (package) name.","required":1,"default":null,"allownull":true,"type":"component"},"dependencies":{"class":"external_multiple_structure","desc":"The list of Mobile addons this addon depends on.","required":1,"default":null,"content":{"class":"external_value","desc":"Mobile addon name.","required":1,"default":null,"allownull":true,"type":"component"}},"fileurl":{"class":"external_value","desc":"The addon package url for download\n                                                            or empty if it doesn't exist.","required":1,"default":null,"allownull":true,"type":"url"},"filehash":{"class":"external_value","desc":"The addon package hash or empty if it doesn't exist.","required":1,"default":null,"allownull":true,"type":"raw"},"filesize":{"class":"external_value","desc":"The addon package size or empty if it doesn't exist.","required":1,"default":null,"allownull":true,"type":"int"},"handlers":{"class":"external_value","desc":"Handlers definition (JSON)","required":2,"default":null,"allownull":true,"type":"raw"},"lang":{"class":"external_value","desc":"Language strings used by the handlers (JSON)","required":2,"default":null,"allownull":true,"type":"raw"}}}},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"text"}}}}}},"description":"Returns a list of Moodle plugins supporting the mobile app.","type":"read","loginrequired":false,"readonlysession":false},{"name":"tool_mobile_get_public_config","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":[]},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"wwwroot":{"class":"external_value","desc":"Site URL.","required":1,"default":null,"allownull":true,"type":"raw"},"httpswwwroot":{"class":"external_value","desc":"Site https URL (if httpslogin is enabled).","required":1,"default":null,"allownull":true,"type":"raw"},"sitename":{"class":"external_value","desc":"Site name.","required":1,"default":null,"allownull":true,"type":"raw"},"guestlogin":{"class":"external_value","desc":"Whether guest login is enabled.","required":1,"default":null,"allownull":true,"type":"int"},"rememberusername":{"class":"external_value","desc":"Values: 0 for No, 1 for Yes, 2 for optional.","required":1,"default":null,"allownull":true,"type":"int"},"authloginviaemail":{"class":"external_value","desc":"Whether log in via email is enabled.","required":1,"default":null,"allownull":true,"type":"int"},"registerauth":{"class":"external_value","desc":"Authentication method for user registration.","required":1,"default":null,"allownull":true,"type":"plugin"},"forgottenpasswordurl":{"class":"external_value","desc":"Forgotten password URL.","required":1,"default":null,"allownull":true,"type":"url"},"authinstructions":{"class":"external_value","desc":"Authentication instructions.","required":1,"default":null,"allownull":true,"type":"raw"},"authnoneenabled":{"class":"external_value","desc":"Whether auth none is enabled.","required":1,"default":null,"allownull":true,"type":"int"},"enablewebservices":{"class":"external_value","desc":"Whether Web Services are enabled.","required":1,"default":null,"allownull":true,"type":"int"},"enablemobilewebservice":{"class":"external_value","desc":"Whether the Mobile service is enabled.","required":1,"default":null,"allownull":true,"type":"int"},"maintenanceenabled":{"class":"external_value","desc":"Whether site maintenance is enabled.","required":1,"default":null,"allownull":true,"type":"int"},"maintenancemessage":{"class":"external_value","desc":"Maintenance message.","required":1,"default":null,"allownull":true,"type":"raw"},"logourl":{"class":"external_value","desc":"The site logo URL","required":2,"default":null,"allownull":true,"type":"url"},"compactlogourl":{"class":"external_value","desc":"The site compact logo URL","required":2,"default":null,"allownull":true,"type":"url"},"typeoflogin":{"class":"external_value","desc":"The type of login. 1 for app, 2 for browser, 3 for embedded.","required":1,"default":null,"allownull":true,"type":"int"},"launchurl":{"class":"external_value","desc":"SSO login launch URL.","required":2,"default":null,"allownull":true,"type":"url"},"mobilecssurl":{"class":"external_value","desc":"Mobile custom CSS theme","required":2,"default":null,"allownull":true,"type":"url"},"tool_mobile_disabledfeatures":{"class":"external_value","desc":"Disabled features in the app","required":2,"default":null,"allownull":true,"type":"raw"},"identityproviders":{"class":"external_multiple_structure","desc":"Identity providers","required":2,"default":null,"content":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"name":{"class":"external_value","desc":"The identity provider name.","required":1,"default":null,"allownull":true,"type":"text"},"iconurl":{"class":"external_value","desc":"The icon URL for the provider.","required":1,"default":null,"allownull":true,"type":"url"},"url":{"class":"external_value","desc":"The URL of the provider.","required":1,"default":null,"allownull":true,"type":"url"}}}},"country":{"class":"external_value","desc":"Default site country","required":2,"default":null,"allownull":true,"type":"notags"},"agedigitalconsentverification":{"class":"external_value","desc":"Whether age digital consent verification\n                    is enabled.","required":2,"default":null,"allownull":true,"type":"bool"},"supportname":{"class":"external_value","desc":"Site support contact name\n                    (only if age verification is enabled).","required":2,"default":null,"allownull":true,"type":"notags"},"supportemail":{"class":"external_value","desc":"Site support contact email\n                    (only if age verification is enabled).","required":2,"default":null,"allownull":true,"type":"email"},"autolang":{"class":"external_value","desc":"Whether to detect default language\n                    from browser setting.","required":2,"default":null,"allownull":true,"type":"int"},"lang":{"class":"external_value","desc":"Default language for the site.","required":2,"default":null,"allownull":true,"type":"lang","enum":["en"]},"langmenu":{"class":"external_value","desc":"Whether the language menu should be displayed.","required":2,"default":null,"allownull":true,"type":"int"},"langlist":{"class":"external_value","desc":"Languages on language menu.","required":2,"default":null,"allownull":true,"type":"raw"},"locale":{"class":"external_value","desc":"Sitewide locale.","required":2,"default":null,"allownull":true,"type":"raw"},"tool_mobile_minimumversion":{"class":"external_value","desc":"Minimum required version to access.","required":2,"default":null,"allownull":true,"type":"notags"},"tool_mobile_iosappid":{"class":"external_value","desc":"iOS app's unique identifier.","required":2,"default":null,"allownull":true,"type":"alphanum"},"tool_mobile_androidappid":{"class":"external_value","desc":"Android app's unique identifier.","required":2,"default":null,"allownull":true,"type":"notags"},"tool_mobile_setuplink":{"class":"external_value","desc":"App download page.","required":2,"default":null,"allownull":true,"type":"url"},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"text"}}}}}},"description":"Returns a list of the site public settings, those not requiring authentication.","type":"read","loginrequired":false,"readonlysession":false},{"name":"tool_mobile_get_tokens_for_qr_login","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"qrloginkey":{"class":"external_value","desc":"The user key for validating the request.","required":1,"default":null,"allownull":true,"type":"alphanumext"},"userid":{"class":"external_value","desc":"The user the key belongs to.","required":1,"default":null,"allownull":true,"type":"int"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"token":{"class":"external_value","desc":"A valid WebService token for the official mobile app service.","required":1,"default":null,"allownull":true,"type":"alphanum"},"privatetoken":{"class":"external_value","desc":"Private token used for auto-login processes.","required":1,"default":null,"allownull":true,"type":"alphanum"},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"text"}}}}}},"description":"Returns a WebService token (and private token) for QR login.","type":"read","loginrequired":false,"readonlysession":false},{"name":"tool_mobile_validate_subscription_key","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","desc":"","required":1,"default":null,"keys":{"key":{"class":"external_value","desc":"Site subscription temporary key.","required":1,"default":null,"allownull":true,"type":"raw"}}},"returns_desc":{"class":"external_single_structure","desc":"","required":1,"default":null,"keys":{"validated":{"class":"external_value","desc":"Whether the key is validated or not.","required":1,"default":null,"allownull":true,"type":"bool"},"warnings":{"class":"external_warnings,external_multiple_structure","desc":"list of warnings","required":2,"default":null,"content":{"class":"external_single_structure","desc":"warning","required":1,"default":null,"keys":{"item":{"class":"external_value","desc":"item","required":2,"default":null,"allownull":true,"type":"text"},"itemid":{"class":"external_value","desc":"item id","required":2,"default":null,"allownull":true,"type":"int"},"warningcode":{"class":"external_value","desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null,"allownull":true,"type":"alphanum"},"message":{"class":"external_value","desc":"untranslated english message to explain the warning","required":1,"default":null,"allownull":true,"type":"text"}}}}}},"description":"Check if the given site subscription key is valid.","type":"write","loginrequired":false,"readonlysession":false}]}
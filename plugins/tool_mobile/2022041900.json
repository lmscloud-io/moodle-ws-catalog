{"functions":[{"name":"tool_mobile_call_external_functions","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"requests":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"function":{"class":"external_value","type":"alphanumext","allownull":true,"desc":"Function name","required":1,"default":null},"arguments":{"class":"external_value","type":"raw","allownull":true,"desc":"JSON-encoded object with named arguments","required":0,"default":"{}"},"settingraw":{"class":"external_value","type":"bool","allownull":true,"desc":"Return raw text","required":0,"default":false},"settingfilter":{"class":"external_value","type":"bool","allownull":true,"desc":"Filter text","required":0,"default":false},"settingfileurl":{"class":"external_value","type":"bool","allownull":true,"desc":"Rewrite plugin file URLs","required":0,"default":true},"settinglang":{"class":"external_value","type":"lang","allownull":true,"desc":"Session language","required":0,"default":"","enum":["en"]}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_function_parameters,external_single_structure","keys":{"responses":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"error":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether an exception was thrown.","required":1,"default":null},"data":{"class":"external_value","type":"raw","allownull":true,"desc":"JSON-encoded response data","required":2,"default":null},"exception":{"class":"external_value","type":"raw","allownull":true,"desc":"JSON-encoed exception info","required":2,"default":null}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null}},"desc":"","required":1,"default":null},"description":"Call multiple external functions and return all responses.","type":"write","loginrequired":true,"readonlysession":false},{"name":"tool_mobile_get_autologin_key","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"privatetoken":{"class":"external_value","type":"alphanum","allownull":true,"desc":"Private token, usually generated by login\/token.php","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"key":{"class":"external_value","type":"alphanumext","allownull":true,"desc":"Auto-login key for a single usage with time expiration.","required":1,"default":null},"autologinurl":{"class":"external_value","type":"url","allownull":true,"desc":"Auto-login URL.","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Creates an auto-login key for the current user.\n                            Is created only in https sites and is restricted by time, ip address and only works if the request\n                            comes from the Moodle mobile or desktop app.","type":"write","loginrequired":true,"readonlysession":false},{"name":"tool_mobile_get_config","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"section":{"class":"external_value","type":"alphanumext","allownull":true,"desc":"Settings section name.","required":0,"default":""}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"settings":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"name":{"class":"external_value","type":"raw","allownull":true,"desc":"The name of the setting","required":1,"default":null},"value":{"class":"external_value","type":"raw","allownull":true,"desc":"The value of the setting","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"Settings","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Returns a list of the site configurations, filtering by section.","type":"read","loginrequired":true,"readonlysession":false},{"name":"tool_mobile_get_content","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":false,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"component":{"class":"external_value","type":"component","allownull":true,"desc":"Component where the class is e.g. mod_assign.","required":1,"default":null},"method":{"class":"external_value","type":"alphanumext","allownull":true,"desc":"Method to execute in class \\$component\\output\\mobile.","required":1,"default":null},"args":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"name":{"class":"external_value","type":"alphanumext","allownull":true,"desc":"Param name.","required":1,"default":null},"value":{"class":"external_value","type":"raw","allownull":true,"desc":"Param value.","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"Args for the method are optional.","required":2,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"templates":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"id":{"class":"external_value","type":"text","allownull":true,"desc":"ID of the template.","required":1,"default":null},"html":{"class":"external_value","type":"raw","allownull":true,"desc":"HTML code.","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"Templates required by the generated content.","required":1,"default":null},"javascript":{"class":"external_value","type":"raw","allownull":true,"desc":"JavaScript code.","required":1,"default":null},"otherdata":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"name":{"class":"external_value","type":"raw","allownull":true,"desc":"Field name.","required":1,"default":null},"value":{"class":"external_value","type":"raw","allownull":true,"desc":"Field value.","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"Other data that can be used or manipulated by the template via 2-way data-binding.","required":1,"default":null},"files":{"class":"external_files,external_multiple_structure","content":{"class":"external_single_structure","keys":{"filename":{"class":"external_value","type":"file","allownull":true,"desc":"File name.","required":2,"default":null},"filepath":{"class":"external_value","type":"path","allownull":true,"desc":"File path.","required":2,"default":null},"filesize":{"class":"external_value","type":"int","allownull":true,"desc":"File size.","required":2,"default":null},"fileurl":{"class":"external_value","type":"url","allownull":true,"desc":"Downloadable file url.","required":2,"default":null},"timemodified":{"class":"external_value","type":"int","allownull":true,"desc":"Time modified.","required":2,"default":null},"mimetype":{"class":"external_value","type":"raw","allownull":true,"desc":"File mime type.","required":2,"default":null},"isexternalfile":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether is an external file.","required":2,"default":null},"repositorytype":{"class":"external_value","type":"plugin","allownull":true,"desc":"The repository type for external files.","required":2,"default":null}},"desc":"File.","required":1,"default":null},"desc":"Files in the content.","required":1,"default":null},"restrict":{"class":"external_single_structure","keys":{"users":{"class":"external_multiple_structure","content":{"class":"external_value","type":"int","allownull":true,"desc":"user id","required":1,"default":null},"desc":"List of allowed users.","required":2,"default":null},"courses":{"class":"external_multiple_structure","content":{"class":"external_value","type":"int","allownull":true,"desc":"course id","required":1,"default":null},"desc":"List of allowed courses.","required":2,"default":null}},"desc":"Restrict this content to certain users or courses.","required":1,"default":null},"disabled":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether we consider this disabled or not.","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Returns a piece of content to be displayed in the Mobile app.","type":"read","loginrequired":true,"readonlysession":false},{"name":"tool_mobile_get_plugins_supporting_mobile","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":[],"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"plugins":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"component":{"class":"external_value","type":"component","allownull":true,"desc":"The plugin component name.","required":1,"default":null},"version":{"class":"external_value","type":"notags","allownull":true,"desc":"The plugin version number.","required":1,"default":null},"addon":{"class":"external_value","type":"component","allownull":true,"desc":"The Mobile addon (package) name.","required":1,"default":null},"dependencies":{"class":"external_multiple_structure","content":{"class":"external_value","type":"component","allownull":true,"desc":"Mobile addon name.","required":1,"default":null},"desc":"The list of Mobile addons this addon depends on.","required":1,"default":null},"fileurl":{"class":"external_value","type":"url","allownull":true,"desc":"The addon package url for download\n                                                            or empty if it doesn't exist.","required":1,"default":null},"filehash":{"class":"external_value","type":"raw","allownull":true,"desc":"The addon package hash or empty if it doesn't exist.","required":1,"default":null},"filesize":{"class":"external_value","type":"int","allownull":true,"desc":"The addon package size or empty if it doesn't exist.","required":1,"default":null},"handlers":{"class":"external_value","type":"raw","allownull":true,"desc":"Handlers definition (JSON)","required":2,"default":null},"lang":{"class":"external_value","type":"raw","allownull":true,"desc":"Language strings used by the handlers (JSON)","required":2,"default":null}},"desc":"","required":1,"default":null},"desc":"","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Returns a list of Moodle plugins supporting the mobile app.","type":"read","loginrequired":false,"readonlysession":false},{"name":"tool_mobile_get_public_config","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":[],"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"wwwroot":{"class":"external_value","type":"raw","allownull":true,"desc":"Site URL.","required":1,"default":null},"httpswwwroot":{"class":"external_value","type":"raw","allownull":true,"desc":"Site https URL (if httpslogin is enabled).","required":1,"default":null},"sitename":{"class":"external_value","type":"raw","allownull":true,"desc":"Site name.","required":1,"default":null},"guestlogin":{"class":"external_value","type":"int","allownull":true,"desc":"Whether guest login is enabled.","required":1,"default":null},"rememberusername":{"class":"external_value","type":"int","allownull":true,"desc":"Values: 0 for No, 1 for Yes, 2 for optional.","required":1,"default":null},"authloginviaemail":{"class":"external_value","type":"int","allownull":true,"desc":"Whether log in via email is enabled.","required":1,"default":null},"registerauth":{"class":"external_value","type":"plugin","allownull":true,"desc":"Authentication method for user registration.","required":1,"default":null},"forgottenpasswordurl":{"class":"external_value","type":"url","allownull":true,"desc":"Forgotten password URL.","required":1,"default":null},"authinstructions":{"class":"external_value","type":"raw","allownull":true,"desc":"Authentication instructions.","required":1,"default":null},"authnoneenabled":{"class":"external_value","type":"int","allownull":true,"desc":"Whether auth none is enabled.","required":1,"default":null},"enablewebservices":{"class":"external_value","type":"int","allownull":true,"desc":"Whether Web Services are enabled.","required":1,"default":null},"enablemobilewebservice":{"class":"external_value","type":"int","allownull":true,"desc":"Whether the Mobile service is enabled.","required":1,"default":null},"maintenanceenabled":{"class":"external_value","type":"int","allownull":true,"desc":"Whether site maintenance is enabled.","required":1,"default":null},"maintenancemessage":{"class":"external_value","type":"raw","allownull":true,"desc":"Maintenance message.","required":1,"default":null},"logourl":{"class":"external_value","type":"url","allownull":true,"desc":"The site logo URL","required":2,"default":null},"compactlogourl":{"class":"external_value","type":"url","allownull":true,"desc":"The site compact logo URL","required":2,"default":null},"typeoflogin":{"class":"external_value","type":"int","allownull":true,"desc":"The type of login. 1 for app, 2 for browser, 3 for embedded.","required":1,"default":null},"launchurl":{"class":"external_value","type":"url","allownull":true,"desc":"SSO login launch URL.","required":2,"default":null},"mobilecssurl":{"class":"external_value","type":"url","allownull":true,"desc":"Mobile custom CSS theme","required":2,"default":null},"tool_mobile_disabledfeatures":{"class":"external_value","type":"raw","allownull":true,"desc":"Disabled features in the app","required":2,"default":null},"identityproviders":{"class":"external_multiple_structure","content":{"class":"external_single_structure","keys":{"name":{"class":"external_value","type":"text","allownull":true,"desc":"The identity provider name.","required":1,"default":null},"iconurl":{"class":"external_value","type":"url","allownull":true,"desc":"The icon URL for the provider.","required":1,"default":null},"url":{"class":"external_value","type":"url","allownull":true,"desc":"The URL of the provider.","required":1,"default":null}},"desc":"","required":1,"default":null},"desc":"Identity providers","required":2,"default":null},"country":{"class":"external_value","type":"notags","allownull":true,"desc":"Default site country","required":2,"default":null},"agedigitalconsentverification":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether age digital consent verification\n                    is enabled.","required":2,"default":null},"supportname":{"class":"external_value","type":"notags","allownull":true,"desc":"Site support contact name\n                    (only if age verification is enabled).","required":2,"default":null},"supportemail":{"class":"external_value","type":"email","allownull":true,"desc":"Site support contact email\n                    (only if age verification is enabled).","required":2,"default":null},"supportpage":{"class":"external_value","type":"url","allownull":true,"desc":"Site support page link.","required":2,"default":null},"autolang":{"class":"external_value","type":"int","allownull":true,"desc":"Whether to detect default language\n                    from browser setting.","required":2,"default":null},"lang":{"class":"external_value","type":"lang","allownull":true,"desc":"Default language for the site.","required":2,"default":null,"enum":["en"]},"langmenu":{"class":"external_value","type":"int","allownull":true,"desc":"Whether the language menu should be displayed.","required":2,"default":null},"langlist":{"class":"external_value","type":"raw","allownull":true,"desc":"Languages on language menu.","required":2,"default":null},"locale":{"class":"external_value","type":"raw","allownull":true,"desc":"Sitewide locale.","required":2,"default":null},"tool_mobile_minimumversion":{"class":"external_value","type":"notags","allownull":true,"desc":"Minimum required version to access.","required":2,"default":null},"tool_mobile_iosappid":{"class":"external_value","type":"alphanum","allownull":true,"desc":"iOS app's unique identifier.","required":2,"default":null},"tool_mobile_androidappid":{"class":"external_value","type":"notags","allownull":true,"desc":"Android app's unique identifier.","required":2,"default":null},"tool_mobile_setuplink":{"class":"external_value","type":"url","allownull":true,"desc":"App download page.","required":2,"default":null},"tool_mobile_qrcodetype":{"class":"external_value","type":"int","allownull":true,"desc":"QR login configuration.","required":2,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Returns a list of the site public settings, those not requiring authentication.","type":"read","loginrequired":false,"readonlysession":false},{"name":"tool_mobile_get_tokens_for_qr_login","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"qrloginkey":{"class":"external_value","type":"alphanumext","allownull":true,"desc":"The user key for validating the request.","required":1,"default":null},"userid":{"class":"external_value","type":"int","allownull":true,"desc":"The user the key belongs to.","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"token":{"class":"external_value","type":"alphanum","allownull":true,"desc":"A valid WebService token for the official mobile app service.","required":1,"default":null},"privatetoken":{"class":"external_value","type":"alphanum","allownull":true,"desc":"Private token used for auto-login processes.","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Returns a WebService token (and private token) for QR login.","type":"read","loginrequired":false,"readonlysession":false},{"name":"tool_mobile_validate_subscription_key","component":"tool_mobile","capabilities":"","services":"moodle_mobile_app","allowed_from_ajax":true,"parameters_desc":{"class":"external_function_parameters,external_single_structure","keys":{"key":{"class":"external_value","type":"raw","allownull":true,"desc":"Site subscription temporary key.","required":1,"default":null}},"desc":"","required":1,"default":null},"returns_desc":{"class":"external_single_structure","keys":{"validated":{"class":"external_value","type":"bool","allownull":true,"desc":"Whether the key is validated or not.","required":1,"default":null},"warnings":{"class":"external_warnings,external_multiple_structure","content":{"class":"external_single_structure","keys":{"item":{"class":"external_value","type":"text","allownull":true,"desc":"item","required":2,"default":null},"itemid":{"class":"external_value","type":"int","allownull":true,"desc":"item id","required":2,"default":null},"warningcode":{"class":"external_value","type":"alphanum","allownull":true,"desc":"the warning code can be used by the client app to implement specific behaviour","required":1,"default":null},"message":{"class":"external_value","type":"raw","allownull":true,"desc":"untranslated english message to explain the warning","required":1,"default":null}},"desc":"warning","required":1,"default":null},"desc":"list of warnings","required":2,"default":null}},"desc":"","required":1,"default":null},"description":"Check if the given site subscription key is valid.","type":"write","loginrequired":false,"readonlysession":false}]}